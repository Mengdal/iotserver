import{d as V,r as o,a as H,o as P,b as J,f as r,h as y,i as K,k as e,t as n,j as m,l,w as s,n as p,D as C,p as h,q,P as z,e as Q,_ as W}from"./index-35337fd3.js";import{_ as X,a as Y,b as Z,c as ee,d as ae,e as le,f as se,L as te}from"./index-e7b184f5.js";import{s as ie}from"./shuffle-5462105a.js";import{G as oe}from"./index-a6d36fad.js";import{i as ne}from"./icon-ebc544b2.js";import{b as re,c as de}from"./energy-f0146bb7.js";const ce={class:"go-login-box"},ue={class:"go-login-box-bg"},pe={style:{"margin-bottom":"80px"}},ge={style:{display:"flex","align-items":"flex-end"}},me={style:{"font-size":"22px",margin:"0 0 10px 10px"}},_e={style:{"font-size":"40px",color:"rgb(93, 93, 93)","font-family":"serif","font-weight":"600","margin-top":"20px"}},ve={style:{display:"flex","margin-top":"5vh"}},fe={id:"list"},we={id:"list",style:{"margin-left":"4vw"}},ye={style:{display:"flex","align-items":"center","margin-top":"60px"}},he={class:"go-login"},be={class:"login-account"},$e={class:"login-account-container"},xe={class:"flex justify-between"},ke={class:"go-login-box-footer"},Ie={style:{position:"absolute",top:"2%",right:"2%"}},Pe=V({__name:"forget",setup(qe){const{ShieldCheckmarkOutlineIcon:G,LockClosedOutlineIcon:b,MailIcon:S}=ne.ionicons5,$=o(),f=o(!1);o(!0);const x=o(!1),A=o(!1);H();const g=o(!1),w=o(!1),k=o(59e4),M=window.$t,U=(t,a)=>{if(!a)return`${t.seconds}s${$t("login.Reacquire_after")}`};P(()=>{setTimeout(()=>{x.value=!0},300),setTimeout(()=>{A.value=!0},100)});const i=J({password:"",email:"",code:"",password2:""}),L={email:{required:!0,message:$t("login.Please_enter_email"),trigger:"blur"},code:{required:!0,message:$t("login.Please_enter_code"),trigger:"blur"},password:{required:!0,message:$t("login.Please_enter_password"),trigger:"blur"},password2:{required:!0,message:$t("login.Please_confirm_password"),trigger:"blur"}},R=o(),I=o(["bar_y","bar_x","line_gradient","line","funnel","heatmap","map","pie","radar"]),j=()=>{w.value=!0,re({email:i.email}).then(t=>{t.code===200&&(window.$message.success(`${M("login.code_message")}!`),g.value=!0,setTimeout(()=>{g.value=!1},k.value)),w.value=!1})},N=()=>{q(z.BASE_LOGIN_NAME)},D=()=>{R.value=setInterval(()=>{I.value=ie(I.value)},Q)},E=t=>{t.preventDefault(),$.value.validate(async a=>{a||(i.password==i.password2?(f.value=!0,de({...i}).then(d=>{d.code===200&&(window.$message.success($t("login.Reset_successfully")+$t("login.Go_to_login")),q(z.BASE_LOGIN_NAME,!0))}).catch(d=>{}),f.value=!1):window.$message.success($t("login.The_password_is_inconsistent")))})};return P(()=>{D()}),(t,a)=>{const d=r("n-icon"),_=r("n-input"),u=r("n-form-item"),v=r("n-button"),O=r("n-countdown"),T=r("n-form"),B=r("n-card"),F=r("n-collapse-transition");return y(),K("div",ce,[e("div",ue,[e("div",pe,[e("div",ge,[a[4]||(a[4]=e("img",{width:"260px",src:X,alt:""},null,-1)),e("span",me,n(t.$t("energy.Gateway_Remote_Management_Platform")),1)]),e("div",_e,n(t.$t("energy.Cloud_Services")),1),e("div",ve,[e("div",fe,[m(` <div>
              <img width="50px" src="../../assets/images/login/1.png" alt="" />
              <span>{{ $t('energy.Free_Cloud_Scada') }}</span>
            </div> `),e("div",null,[a[5]||(a[5]=e("img",{src:Y,alt:""},null,-1)),e("span",null,n(t.$t("energy.Data_bridging_function")),1)]),e("div",null,[a[6]||(a[6]=e("img",{src:Z,alt:""},null,-1)),e("span",null,n(t.$t("energy.Mobile_App_Support")),1)])]),e("div",we,[m(` <div>
              <img src="../../assets/images/login/2.png" alt="" />
              <span>{{ $t('energy.Remote_Management') }}</span>
            </div> `),e("div",null,[a[7]||(a[7]=e("img",{src:ee,alt:""},null,-1)),e("span",null,n(t.$t("energy.Configurable_API_interface")),1)]),e("div",null,[a[8]||(a[8]=e("img",{src:ae,alt:""},null,-1)),e("span",null,n(t.$t("energy.Alarm_functions")),1)])])]),e("div",ye,[a[9]||(a[9]=e("img",{src:le,alt:"",width:"50px"},null,-1)),e("span",null,n(t.$t("energy.Remote_Management")),1)])]),a[10]||(a[10]=e("aside",{class:"bg-slot"},null,-1)),m(` <aside class="bg-img-box">
        <transition-group name="list-complete">
          <template v-for="item in bgList"
                    :key="item">
            <div class="bg-img-box-li list-complete-item">
              <n-collapse-transition :appear="true"
                                     :show="showBg">
                <img :src="getImageUrl(item, 'chart/charts')"
                     alt="chart" />
              </n-collapse-transition>
            </div>
          </template>
</transition-group>
</aside> `)]),m(" <layout-header></layout-header> "),e("div",he,[m(` <div class="go-login-carousel">
          <n-carousel autoplay
                      dot-type="line"
                      :interval="Number(carouselInterval)">
            <img v-for="(item, i) in carouselImgList"
                 :key="i"
                 class="go-login-carousel-img"
                 :src="getImageUrl(item, 'login')"
                 alt="image" />
          </n-carousel>
        </div> `),e("div",be,[e("div",$e,[l(F,{appear:!0,show:x.value},{default:s(()=>[l(B,{class:"login-account-card",title:t.$t("login.reset_password")},{default:s(()=>[a[11]||(a[11]=e("div",{class:"login-account-top"},[e("img",{class:"login-account-top-logo",src:se,alt:"\u5C55\u793A\u56FE\u7247"})],-1)),l(T,{ref_key:"formRef",ref:$,"label-placement":"left",size:"large",model:i,rules:L},{default:s(()=>[l(u,{path:"email"},{default:s(()=>[l(_,{value:i.email,"onUpdate:value":a[0]||(a[0]=c=>i.email=c),"show-password-on":"click",placeholder:t.$t("login.Please_enter_email")},{prefix:s(()=>[l(d,{size:"18"},{default:s(()=>[l(p(S))]),_:1})]),_:1},8,["value","placeholder"])]),_:1}),l(u,{path:"code"},{default:s(()=>[l(_,{value:i.code,"onUpdate:value":a[1]||(a[1]=c=>i.code=c),type:"text",placeholder:t.$t("login.Please_enter_code"),"input-props":{autocomplete:"off"}},{prefix:s(()=>[l(d,{size:"18"},{default:s(()=>[l(p(G))]),_:1})]),suffix:s(()=>[g.value?(y(),C(v,{key:1,disabled:g.value,quaternary:""},{default:s(()=>[l(O,{render:U,duration:k.value,active:g.value},null,8,["duration","active"])]),_:1},8,["disabled"])):(y(),C(v,{key:0,onClick:j,loading:w.value,quaternary:""},{default:s(()=>[h(n(t.$t("login.Get_Verification_Code")),1)]),_:1},8,["loading"]))]),_:1},8,["value","placeholder"])]),_:1}),l(u,{path:"password"},{default:s(()=>[l(_,{value:i.password,"onUpdate:value":a[2]||(a[2]=c=>i.password=c),type:"password",maxlength:"16","show-password-on":"click",placeholder:t.$t("login.Please_enter_password")},{prefix:s(()=>[l(d,{size:"18"},{default:s(()=>[l(p(b))]),_:1})]),_:1},8,["value","placeholder"])]),_:1}),l(u,{path:"password2"},{default:s(()=>[l(_,{value:i.password2,"onUpdate:value":a[3]||(a[3]=c=>i.password2=c),type:"password",maxlength:"16","show-password-on":"click",placeholder:t.$t("login.Please_confirm_password"),"input-props":{autocomplete:"off"}},{prefix:s(()=>[l(d,{size:"18"},{default:s(()=>[l(p(b))]),_:1})]),_:1},8,["value","placeholder"])]),_:1}),l(u,null,{default:s(()=>[e("div",xe,[e("div",null,[l(v,{onClick:N,text:""},{default:s(()=>[h(n(t.$t("login.Go_to_login")),1)]),_:1})])])]),_:1}),l(u,null,{default:s(()=>[l(v,{type:"primary",onClick:E,size:"large",loading:f.value,block:""},{default:s(()=>[h(n(t.$t("project.sure")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])]),_:1},8,["show"])])])]),e("div",ke,[l(p(te)),a[12]||(a[12]=e("div",{class:"recode_number"},"\u5907\u6848\u53F7\uFF1A\u7696ICP\u590718002019\u53F7-3",-1))]),e("div",Ie,[l(p(oe))])])}}}),Ce=W(Pe,[["__scopeId","data-v-97938a37"],["__file","/Users/cyj/Desktop/work project/Scada-4.21/newScada/src/views/regsiter/forget.vue"]]);export{Ce as default};
