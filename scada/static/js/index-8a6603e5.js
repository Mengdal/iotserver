import{d as q,r as c,u as F,a as J,b as K,o as Q,g as E,c as V,e as W,f as g,h as X,i as Y,j as u,k as e,t as n,l,w as t,m as j,n as x,p as y,F as Z,q as w,P as b,s as ee,v as ae,x as se,_ as le}from"./index-35337fd3.js";import{_ as te,a as ne,b as oe,c as ie,d as re,e as de,f as ce,L as ge}from"./index-e7b184f5.js";import{s as ue}from"./shuffle-5462105a.js";import{G as me}from"./index-a6d36fad.js";import{i as pe}from"./icon-ebc544b2.js";import{l as S,p as A}from"./energy-f0146bb7.js";const fe={class:"go-login-box"},ve={class:"go-login-box-bg"},_e={style:{"margin-bottom":"80px"}},ye={style:{display:"flex","align-items":"flex-end"}},we={style:{"font-size":"22px",margin:"0 0 10px 10px"}},be={style:{"font-size":"40px",color:"rgb(93, 93, 93)","font-family":"serif","font-weight":"600","margin-top":"20px"}},he={style:{display:"flex","margin-top":"5vh"}},xe={id:"list"},$e={id:"list",style:{"margin-left":"4vw"}},ke={style:{display:"flex","align-items":"center","margin-top":"60px"}},Ie={class:"go-login"},Me={class:"login-account"},Ee={class:"login-account-container"},je={style:{display:"flex","justify-content":"space-between",width:"100%"}},Se={style:{display:"flex","justify-content":"space-between",width:"100%"}},Ae={class:"go-login-box-footer"},Ce={style:{position:"absolute",top:"2%",right:"2%"}},Ne=q({__name:"index",setup(Pe){const{PersonOutlineIcon:C,LockClosedOutlineIcon:N}=pe.ionicons5,p=c(!1),i=F(),k=c(),m=c(!1);c(!0);const I=c(!1),O=c(!1);J();const r=K({username:"",password:""}),d=window.$t;Q(()=>{if(i.setIsShowMenuAndHeader(!0),setTimeout(()=>{I.value=!0},300),setTimeout(()=>{O.value=!0},100),L(),E("rememberMe")){const s=JSON.parse(V(E("rememberMe")));s.rememberMe&&p&&(r.username=s.username,r.password=s.password,p.value=s.rememberMe)}});const P=()=>{m.value=!0,S({username:"demo",password:"123456"}).then(s=>{s.code===200&&(s.data.projectId?(i.setToken(s.data.token),i.setUserInfo(s.data),window.$message.success(`${d("login.login_success")}!`),A({projectId:s.data.projectId}).then(a=>{a.code==200&&(i.setProjectDetail(a.data),w(b.HOME_NAME,!0))})):window.$message.success(`${d("login.no_bind")}!`))}),m.value=!1},T={username:{required:!0,message:d("global.form_account"),trigger:"blur"},password:{required:!0,message:d("global.form_password"),trigger:"blur"}},U=c(),M=c(["bar_y","bar_x","line_gradient","line","funnel","heatmap","map","pie","radar"]),z=()=>{w(b.BASE_REGSITER_NAME)},R=()=>{w(b.BASE_FORGET_NAME)},L=()=>{U.value=setInterval(()=>{M.value=ue(M.value)},W)},$=s=>{s.preventDefault(),k.value.validate(async a=>{a?window.$message.error(`${d("login.login_message")}!`):(m.value=!0,S({...r}).then(o=>{o.code===200&&(o.data.roleId<=1?(i.setToken(o.data.token),i.setUserInfo(o.data),window.$message.success(`${d("login.login_success")}!`),w(b.BASE_HOME_PROJECT_LIST_NAME,!0)):o.data.projectId?(i.setToken(o.data.token),i.setUserInfo(o.data),window.$message.success(`${d("login.login_success")}!`),A({projectId:o.data.projectId}).then(f=>{f.code==200&&(i.setProjectDetail(f.data),w(b.HOME_NAME,!0))})):window.$message.success(`${d("login.no_bind")}!`),p.value?ee("rememberMe",ae(JSON.stringify({...r,rememberMe:!0}))):se("rememberMe"))}),m.value=!1)})};return(s,a)=>{const o=g("n-icon"),f=g("n-input"),v=g("n-form-item"),D=g("n-checkbox"),h=g("n-button"),B=g("n-form"),G=g("n-card"),H=g("n-collapse-transition");return X(),Y(Z,null,[u(" \u767B\u5F55 "),e("div",fe,[e("div",ve,[e("div",_e,[e("div",ye,[a[3]||(a[3]=e("img",{width:"260px",src:te,alt:""},null,-1)),e("span",we,n(s.$t("energy.Gateway_Remote_Management_Platform")),1)]),e("div",be,n(s.$t("energy.Cloud_Services")),1),e("div",he,[e("div",xe,[u(` <div>
              <img width="50px" src="../../assets/images/login/1.png" alt="" />
              <span>{{ $t('energy.Free_Cloud_Scada') }}</span>
            </div> `),e("div",null,[a[4]||(a[4]=e("img",{src:ne,alt:""},null,-1)),e("span",null,n(s.$t("energy.Data_bridging_function")),1)]),e("div",null,[a[5]||(a[5]=e("img",{src:oe,alt:""},null,-1)),e("span",null,n(s.$t("energy.Mobile_App_Support")),1)])]),e("div",$e,[u(` <div>
              <img src="../../assets/images/login/2.png" alt="" />
              <span>{{ $t('energy.Remote_Management') }}</span>
            </div> `),e("div",null,[a[6]||(a[6]=e("img",{src:ie,alt:""},null,-1)),e("span",null,n(s.$t("energy.Configurable_API_interface")),1)]),e("div",null,[a[7]||(a[7]=e("img",{src:re,alt:""},null,-1)),e("span",null,n(s.$t("energy.Alarm_functions")),1)])])]),e("div",ke,[a[8]||(a[8]=e("img",{src:de,alt:"",width:"50px"},null,-1)),e("span",null,n(s.$t("energy.Remote_Management")),1)])]),a[9]||(a[9]=e("aside",{class:"bg-slot"},null,-1)),u(` <aside class="bg-img-box">
        <transition-group name="list-complete">
          <template v-for="item in bgList"
                    :key="item">
            <div class="bg-img-box-li list-complete-item">
              <n-collapse-transition :appear="true"
                                     :show="showBg">
                <img :src="getImageUrl(item, 'chart/charts')"
                     alt="chart" />
              </n-collapse-transition>
            </div>
          </template>
</transition-group>
</aside> `)]),u(" <layout-header></layout-header> "),e("div",Ie,[u(` <div class="go-login-carousel">
        <n-carousel autoplay
                    dot-type="line"
                    :interval="Number(carouselInterval)">
          <img v-for="(item, i) in carouselImgList"
               :key="i"
               class="go-login-carousel-img"
               :src="getImageUrl(item, 'login')"
               alt="image" />
        </n-carousel>
      </div> `),e("div",Me,[e("div",Ee,[l(H,{appear:!0,show:I.value},{default:t(()=>[l(G,{class:"login-account-card",title:s.$t("login.desc")},{default:t(()=>[a[10]||(a[10]=e("div",{class:"login-account-top"},[e("img",{class:"login-account-top-logo",src:ce,alt:"\u5C55\u793A\u56FE\u7247"})],-1)),l(B,{ref_key:"formRef",ref:k,"label-placement":"left",size:"large",model:r,rules:T},{default:t(()=>[l(v,{path:"username"},{default:t(()=>[l(f,{value:r.username,"onUpdate:value":a[0]||(a[0]=_=>r.username=_),type:"text",placeholder:s.$t("global.form_account"),onKeydown:j($,["enter"])},{prefix:t(()=>[l(o,{size:"18"},{default:t(()=>[l(x(C))]),_:1})]),_:1},8,["value","placeholder"])]),_:1}),l(v,{path:"password"},{default:t(()=>[l(f,{value:r.password,"onUpdate:value":a[1]||(a[1]=_=>r.password=_),type:"password",maxlength:"16","show-password-on":"click",placeholder:s.$t("global.form_password"),onKeydown:j($,["enter"])},{prefix:t(()=>[l(o,{size:"18"},{default:t(()=>[l(x(N))]),_:1})]),_:1},8,["value","placeholder"])]),_:1}),l(v,null,{default:t(()=>[e("div",je,[u(` <div class="flex-initial">
                      <n-checkbox v-model:checked="autoLogin">{{
                        $t('login.form_auto')
                        }}</n-checkbox>
                    </div> `),e("div",null,[l(D,{checked:p.value,"onUpdate:checked":a[2]||(a[2]=_=>p.value=_)},{default:t(()=>[y(n(s.$t("login.remember_password")),1)]),_:1},8,["checked"])]),e("div",null,[l(h,{onClick:R,text:""},{default:t(()=>[y(n(s.$t("energy.forget")),1)]),_:1})])])]),_:1}),l(v,null,{default:t(()=>[e("div",Se,[l(h,{style:{width:"48%"},size:"large",ghost:"",type:"primary",onClick:P},{default:t(()=>[y(n(s.$t("energy.demo")),1)]),_:1}),l(h,{style:{width:"48%"},size:"large",type:"primary",onClick:$,loading:m.value},{default:t(()=>[y(n(s.$t("login.form_button")),1)]),_:1},8,["loading"])])]),_:1}),l(v,null,{default:t(()=>[l(h,{onClick:z,type:"primary",ghost:"",size:"large",loading:m.value,block:""},{default:t(()=>[y(n(s.$t("login.regsiter")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])]),_:1},8,["show"])])])]),e("div",Ae,[l(x(ge)),a[11]||(a[11]=e("div",{class:"recode_number"},"\u5907\u6848\u53F7\uFF1A\u7696ICP\u590718002019\u53F7-3",-1))]),e("div",Ce,[l(x(me))])])],2112)}}}),Oe=le(Ne,[["__scopeId","data-v-2bf2fc29"],["__file","/Users/cyj/Desktop/work project/Scada-4.21/newScada/src/views/login/index.vue"]]);export{Oe as default};
