import{u as ae,__tla as ce}from"./chartEditStore-a8bbc3da.js";import{c4 as ie,I as se,cb as o,es as I,et as N,eu as F,ci as y,e9 as T,__tla as ue}from"./index-35337fd3.js";let x,B,le=Promise.all([(()=>{try{return ce}catch{}})(),(()=>{try{return ue}catch{}})()]).then(async()=>{var U={exports:{}};(function(i){(function(r){var a,g={},h={16:!1,18:!1,17:!1,91:!1},D="all",w={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},G={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},L=function(e){return G[e]||e.toUpperCase().charCodeAt(0)},O=[];for(a=1;a<20;a++)G["f"+a]=111+a;function A(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function M(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var Y={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function V(e){for(a in h)h[a]=e[Y[a]]}function X(e){var t,n,c,b,k,R;if(t=e.keyCode,A(O,t)==-1&&O.push(t),(t==93||t==224)&&(t=91),t in h){h[t]=!0;for(c in w)w[c]==t&&(v[c]=!0);return}if(V(e),!!v.filter.call(this,e)&&t in g){for(R=W(),b=0;b<g[t].length;b++)if(n=g[t][b],n.scope==R||n.scope=="all"){k=n.mods.length>0;for(c in h)(!h[c]&&A(n.mods,+c)>-1||h[c]&&A(n.mods,+c)==-1)&&(k=!1);(n.mods.length==0&&!h[16]&&!h[18]&&!h[17]&&!h[91]||k)&&n.method(e,n)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function j(e){var t=e.keyCode,n,c=A(O,t);if(c>=0&&O.splice(c,1),(t==93||t==224)&&(t=91),t in h){h[t]=!1;for(n in w)w[n]==t&&(v[n]=!1)}}function q(){for(a in h)h[a]=!1;for(a in w)v[a]=!1}function v(e,t,n){var c,b;c=S(e),n===void 0&&(n=t,t="all");for(var k=0;k<c.length;k++)b=[],e=c[k].split("+"),e.length>1&&(b=H(e),e=[e[e.length-1]]),e=e[0],e=L(e),e in g||(g[e]=[]),g[e].push({shortcut:c[k],scope:t,method:n,key:c[k],mods:b})}function J(e,t){var n,c,b=[],k,R,P;for(n=S(e),R=0;R<n.length;R++){if(c=n[R].split("+"),c.length>1&&(b=H(c),e=c[c.length-1]),e=L(e),t===void 0&&(t=W()),!g[e])return;for(k=0;k<g[e].length;k++)P=g[e][k],P.scope===t&&M(P.mods,b)&&(g[e][k]={})}}function Q(e){return typeof e=="string"&&(e=L(e)),A(O,e)!=-1}function Z(){return O.slice(0)}function ee(e){var t=(e.target||e.srcElement).tagName;return!(t=="INPUT"||t=="SELECT"||t=="TEXTAREA")}for(a in w)v[a]=!1;function te(e){D=e||"all"}function W(){return D||"all"}function ne(e){var t,n,c;for(t in g)for(n=g[t],c=0;c<n.length;)n[c].scope===e?n.splice(c,1):c++}function S(e){var t;return e=e.replace(/\s/g,""),t=e.split(","),t[t.length-1]==""&&(t[t.length-2]+=","),t}function H(e){for(var t=e.slice(0,e.length-1),n=0;n<t.length;n++)t[n]=w[t[n]];return t}function K(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,function(){n(window.event)})}K(document,"keydown",function(e){X(e)}),K(document,"keyup",j),K(window,"focus",q);var re=r.key;function oe(){var e=r.key;return r.key=re,e}r.key=v,r.key.setScope=te,r.key.getScope=W,r.key.deleteScope=ne,r.key.filter=ee,r.key.isPressed=Q,r.key.getPressedKeyCodes=Z,r.key.noConflict=oe,r.key.unbind=J,i.exports=v})(ie)})(U);var z=U.exports;let s,d,p,E,u,f,m,l,_,C,$;s=se(z),d=ae(),p=i=>`${I.CTRL}+${i}`,E=i=>`${I.SHIFT}+${i}`,u={[o.ARROW_UP]:p("up"),[o.ARROW_RIGHT]:p("right"),[o.ARROW_DOWN]:p("down"),[o.ARROW_LEFT]:p("left"),[o.COPY]:p("c"),[o.CUT]:p("x"),[o.PARSE]:p("v"),[o.DELETE]:"delete",[o.BACK]:p("z"),[o.FORWORD]:p(E("z")),[o.GROUP]:p("g"),[o.UN_GROUP]:p(E("g")),[o.LOCK]:p("l"),[o.UNLOCK]:p(E("l")),[o.HIDE]:p("h"),[o.SHOW]:p(E("h"))},f=i=>`${N.CTRL}+${i}`,m=i=>`${N.SHIFT}+${i}`,l={[o.ARROW_UP]:f("arrowup"),[o.ARROW_RIGHT]:f("arrowright"),[o.ARROW_DOWN]:f("arrowdown"),[o.ARROW_LEFT]:f("arrowleft"),[o.COPY]:f("c"),[o.CUT]:f("x"),[o.PARSE]:f("v"),[o.DELETE]:f("backspace"),[o.BACK]:f("z"),[o.FORWORD]:f(m("z")),[o.GROUP]:f("g"),[o.UN_GROUP]:f(m("g")),[o.LOCK]:f("l"),[o.UNLOCK]:f(m("l")),[o.HIDE]:f("h"),[o.SHOW]:f(m("h"))},_=[u.up,u.right,u.down,u.left,u.delete,u.copy,u.cut,u.parse,u.back,u.forward,u.group,u.unGroup,u.lock,u.unLock,u.hide,u.show],C=[l.up,l.right,l.down,l.left,l.delete,l.copy,l.cut,l.parse,l.back,l.forward,l.group,l.unGroup,l.lock,l.unLock,l.hide,l.show],$=()=>{window.$KeyboardActive={ctrl:!1,space:!1},document.onkeydown=i=>{const{keyCode:r}=i;if(r==32&&i.target==document.body&&i.preventDefault(),[17,32].includes(r)&&window.$KeyboardActive)switch(F(i.keyCode),r){case 17:window.$KeyboardActive.ctrl=!0;break;case 32:window.$KeyboardActive.space=!0;break}},document.onkeyup=i=>{const{keyCode:r}=i;if(r==32&&i.target==document.body&&i.preventDefault(),[17,32].includes(r)&&window.$KeyboardActive)switch(F(),r){case 17:window.$KeyboardActive.ctrl=!1;break;case 32:window.$KeyboardActive.space=!1;break}}},x=()=>{const i=(r,a)=>{switch(a){case r.up:s(a,y(()=>(d.setMove(o.ARROW_UP),!1),50));break;case r.right:s(a,y(()=>(d.setMove(o.ARROW_RIGHT),!1),50));break;case r.down:s(a,y(()=>(d.setMove(o.ARROW_DOWN),!1),50));break;case r.left:s(a,y(()=>(d.setMove(o.ARROW_LEFT),!1),50));break;case r.delete:s(a,T(()=>(d.removeComponentList(),!1),50));break;case r.copy:s(a,T(()=>(d.setCopy(),!1),50));break;case r.cut:s(a,T(()=>(d.setCut(),!1),50));break;case r.parse:s(a,y(()=>(d.setParse(),!1),50));break;case r.back:s(a,y(()=>(d.setBack(),!1),50));break;case r.forward:s(a,y(()=>(d.setForward(),!1),50));break;case r.group:s(a,y(()=>(d.setGroup(),!1),50));break;case r.unGroup:s(a,y(()=>(d.setUnGroup(),!1),50));break;case r.lock:s(a,y(()=>(d.setLock(),!1),50));break;case r.unLock:s(a,y(()=>(d.setUnLock(),!1),50));break;case r.hide:s(a,y(()=>(d.setHide(),!1),50));break;case r.show:s(a,y(()=>(d.setShow(),!1),50));break}};_.forEach(r=>{i(u,r)}),C.forEach(r=>{i(l,r)}),$()},B=()=>{document.onkeydown=()=>{},document.onkeyup=()=>{},_.forEach(i=>{s.unbind(i)}),C.forEach(i=>{s.unbind(i)})}});export{le as __tla,x as a,B as u};
