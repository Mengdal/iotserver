{
    "swagger": "2.0",
    "info": {
        "contact": {}
    },
    "basePath": "/api",
    "paths": {
        "/menu/create": {
            "post": {
                "tags": [
                    "menu"
                ],
                "description": "创建新菜单（名称不能重复）\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Authorization",
                        "description": "Bearer YourToken",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "path",
                        "description": "路径",
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "component",
                        "description": "组件",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "name",
                        "description": "名称",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "redirect",
                        "description": "重定向",
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "status",
                        "description": "是否启用",
                        "required": true,
                        "type": "boolean"
                    },
                    {
                        "in": "query",
                        "name": "type",
                        "description": "类型",
                        "required": true,
                        "type": "integer",
                        "format": "int64"
                    },
                    {
                        "in": "query",
                        "name": "parentId",
                        "description": "父级菜单ID",
                        "type": "integer",
                        "format": "int64"
                    },
                    {
                        "in": "query",
                        "name": "permissionList",
                        "description": "按钮权限列表",
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "meta",
                        "description": "元数据",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"操作成功\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    },
                    "400": {
                        "description": "\"参数错误或创建失败\""
                    }
                }
            }
        },
        "/menu/del": {
            "post": {
                "tags": [
                    "menu"
                ],
                "description": "根据菜单ID删除菜单\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Authorization",
                        "description": "Bearer YourToken",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "id",
                        "description": "菜单ID",
                        "required": true,
                        "type": "integer",
                        "format": "int64"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"删除成功\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    },
                    "400": {
                        "description": "\"参数错误或删除失败\""
                    }
                }
            }
        },
        "/menu/edit": {
            "post": {
                "tags": [
                    "menu"
                ],
                "description": "修改已有菜单信息（避免重名）\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Authorization",
                        "description": "Bearer YourToken",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "id",
                        "description": "菜单ID",
                        "required": true,
                        "type": "integer",
                        "format": "int64"
                    },
                    {
                        "in": "query",
                        "name": "path",
                        "description": "路径",
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "component",
                        "description": "组件",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "name",
                        "description": "名称",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "redirect",
                        "description": "重定向",
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "status",
                        "description": "是否启用",
                        "required": true,
                        "type": "boolean"
                    },
                    {
                        "in": "query",
                        "name": "type",
                        "description": "类型",
                        "required": true,
                        "type": "integer",
                        "format": "int64"
                    },
                    {
                        "in": "query",
                        "name": "parentId",
                        "description": "父级菜单ID",
                        "type": "integer",
                        "format": "int64"
                    },
                    {
                        "in": "query",
                        "name": "permissionList",
                        "description": "按钮权限列表",
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "meta",
                        "description": "元数据",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"操作成功\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    },
                    "400": {
                        "description": "\"参数错误或更新失败\""
                    }
                }
            }
        },
        "/menu/list": {
            "post": {
                "tags": [
                    "menu"
                ],
                "description": "获取完整菜单树\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Authorization",
                        "description": "Bearer YourToken",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"返回菜单树\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    }
                }
            }
        },
        "/role/create": {
            "post": {
                "tags": [
                    "role"
                ],
                "description": "创建新角色\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Authorization",
                        "description": "Bearer YourToken",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "name",
                        "description": "角色名称",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "description",
                        "description": "角色描述",
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "permission",
                        "description": "权限字符串",
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"返回创建成功的角色ID\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    },
                    "400": {
                        "description": "\"参数错误\""
                    }
                }
            }
        },
        "/role/del": {
            "post": {
                "tags": [
                    "role"
                ],
                "description": "删除指定角色\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Authorization",
                        "description": "Bearer YourToken",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "id",
                        "description": "角色ID",
                        "required": true,
                        "type": "integer",
                        "format": "int64"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"删除成功，返回1\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    },
                    "400": {
                        "description": "\"系统角色不能删除 或 删除失败\""
                    }
                }
            }
        },
        "/role/edit": {
            "post": {
                "tags": [
                    "role"
                ],
                "description": "修改已有角色的信息\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Authorization",
                        "description": "Bearer YourToken",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "id",
                        "description": "角色ID",
                        "required": true,
                        "type": "integer",
                        "format": "int64"
                    },
                    {
                        "in": "query",
                        "name": "name",
                        "description": "角色名称",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "description",
                        "description": "角色描述",
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "permission",
                        "description": "权限字符串",
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"操作成功\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    },
                    "400": {
                        "description": "\"参数错误或角色不存在\""
                    }
                }
            }
        },
        "/role/getRole": {
            "post": {
                "tags": [
                    "role"
                ],
                "description": "根据ID获取角色信息\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Authorization",
                        "description": "Bearer YourToken",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "id",
                        "description": "角色ID",
                        "required": true,
                        "type": "integer",
                        "format": "int64"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"请求成功\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    },
                    "400": {
                        "description": "\"参数错误或角色不存在\""
                    }
                }
            }
        },
        "/role/getRoleList": {
            "post": {
                "tags": [
                    "role"
                ],
                "description": "分页获取角色列表，仅有主账户含角色\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Authorization",
                        "description": "Bearer YourToken",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "page",
                        "description": "当前页码，默认1",
                        "type": "integer",
                        "format": "int64"
                    },
                    {
                        "in": "query",
                        "name": "size",
                        "description": "每页数量，默认10",
                        "type": "integer",
                        "format": "int64"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"请求成功\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    }
                }
            }
        },
        "/role/template": {
            "post": {
                "tags": [
                    "role"
                ],
                "description": "获取权限模板\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Authorization",
                        "description": "Bearer YourToken",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"请求成功\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    }
                }
            }
        },
        "/scada/aggQueryHistory": {
            "post": {
                "tags": [
                    "scada"
                ],
                "description": "执行聚合查询获取统计类数据\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Authorization",
                        "description": "Bearer YourToken",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "description": "聚合查询参数",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.AggObject"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"返回聚合结果\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    },
                    "400": {
                        "description": "\"错误信息\""
                    }
                }
            }
        },
        "/scada/boolQueryHistory": {
            "post": {
                "tags": [
                    "scada"
                ],
                "description": "查询布尔类型的历史数据变化\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Authorization",
                        "description": "Bearer YourToken",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "description": "布尔查询参数",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.BoolObject"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"返回布尔型历史数据\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    },
                    "400": {
                        "description": "\"错误信息\""
                    }
                }
            }
        },
        "/scada/diffQueryHistory": {
            "post": {
                "tags": [
                    "scada"
                ],
                "description": "查询两个时间点之间的差值变化\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Authorization",
                        "description": "Bearer YourToken",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "description": "差值查询参数",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.DiffObject"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"返回差值结果\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    },
                    "400": {
                        "description": "\"错误信息\""
                    }
                }
            }
        },
        "/scada/getTagsTree": {
            "post": {
                "tags": [
                    "scada"
                ],
                "description": "根据传入设备获取点树\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Authorization",
                        "description": "Bearer YourToken",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"返回结果树\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    },
                    "400": {
                        "description": "\"错误信息\""
                    }
                }
            }
        },
        "/scada/queryHistory": {
            "post": {
                "tags": [
                    "scada"
                ],
                "description": "根据传入参数查询历史数据\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Authorization",
                        "description": "Bearer YourToken",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "description": "查询条件",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.HistoryObject"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"返回结果\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    },
                    "400": {
                        "description": "\"错误信息\""
                    }
                }
            }
        },
        "/scada/queryReal": {
            "post": {
                "tags": [
                    "scada"
                ],
                "description": "根据传入参数查询实时数据\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Authorization",
                        "description": "Bearer YourToken",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "description": "查询条件",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.HistoryObject"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"返回结果\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    },
                    "400": {
                        "description": "\"错误信息\""
                    }
                }
            }
        },
        "/user/get": {
            "post": {
                "tags": [
                    "user"
                ],
                "description": "主账户获取所有子用户\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Authorization",
                        "description": "Bearer YourToken",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"请求成功,返回通用结果\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    }
                }
            }
        },
        "/user/login": {
            "post": {
                "tags": [
                    "user"
                ],
                "description": "用户登录\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "query",
                        "name": "username",
                        "description": "username",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "password",
                        "description": "password",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"请求成功,返回通用结果\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    },
                    "400": {
                        "description": "参数解析失败"
                    }
                }
            }
        },
        "/user/register": {
            "post": {
                "tags": [
                    "user"
                ],
                "description": "基于当前用户创建，token不填时创建父账户，有token则基于当前用户创建\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "query",
                        "name": "Authorization",
                        "description": "token检验",
                        "type": "string"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "description": "用户信息（email选填）",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.RegisterDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"请求成功,返回通用结果\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    },
                    "400": {
                        "description": "参数解析失败"
                    }
                }
            }
        },
        "/user/updatePassword": {
            "post": {
                "tags": [
                    "user"
                ],
                "description": "更新用户密码，主账号token可以修改子账户密码\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Authorization",
                        "description": "Bearer YourToken",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "query",
                        "name": "id",
                        "description": "User ID",
                        "type": "integer",
                        "format": "int64"
                    },
                    {
                        "in": "query",
                        "name": "password",
                        "description": "New password",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"请求成功,返回通用结果\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    },
                    "400": {
                        "description": "\"请求参数错误或更新失败\""
                    }
                }
            }
        },
        "/user/updateUser": {
            "post": {
                "tags": [
                    "user"
                ],
                "description": "更新用户信息\n\u003cbr\u003e",
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "description": "请求体",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.UserDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"请求成功,返回通用结果\"",
                        "schema": {
                            "$ref": "#/definitions/controllers.SimpleResult"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "controllers.SimpleResult": {
            "title": "SimpleResult",
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer",
                    "example": 200,
                    "format": "int64"
                },
                "message": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "models.AggObject": {
            "title": "AggObject",
            "type": "object",
            "properties": {
                "aggType": {
                    "type": "string"
                },
                "count": {
                    "type": "integer",
                    "format": "int64"
                },
                "desc": {
                    "type": "boolean"
                },
                "endTime": {
                    "type": "string"
                },
                "ids": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "period": {
                    "type": "integer",
                    "format": "int64"
                },
                "startTime": {
                    "type": "string"
                }
            }
        },
        "models.BoolObject": {
            "title": "BoolObject",
            "type": "object",
            "properties": {
                "endTime": {
                    "type": "string"
                },
                "ids": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "startTime": {
                    "type": "string"
                }
            }
        },
        "models.DiffObject": {
            "title": "DiffObject",
            "type": "object",
            "properties": {
                "endTime": {
                    "type": "string"
                },
                "ids": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "period": {
                    "type": "integer",
                    "format": "int64"
                },
                "startTime": {
                    "type": "string"
                }
            }
        },
        "models.HistoryObject": {
            "title": "HistoryObject",
            "type": "object",
            "properties": {
                "count": {
                    "type": "integer",
                    "format": "int64"
                },
                "endTime": {
                    "type": "string"
                },
                "ids": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "startTime": {
                    "type": "string"
                }
            }
        },
        "models.RegisterDto": {
            "title": "RegisterDto",
            "type": "object",
            "properties": {
                "password": {
                    "type": "string"
                },
                "username": {
                    "type": "string"
                }
            }
        },
        "models.UserDto": {
            "title": "UserDto",
            "type": "object",
            "properties": {
                "create_time": {
                    "type": "string",
                    "format": "datetime"
                },
                "email": {
                    "type": "string"
                },
                "id": {
                    "type": "integer",
                    "format": "int64"
                },
                "parent_id": {
                    "type": "integer",
                    "format": "int64"
                },
                "role_id": {
                    "type": "integer",
                    "format": "int64"
                },
                "username": {
                    "type": "string"
                },
                "web_token": {
                    "type": "string"
                }
            }
        }
    }
}