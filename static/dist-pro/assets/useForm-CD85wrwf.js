import{x as l,y as d}from"./index-CAdyeJt3.js";import{r as i,u as c,n as y}from"./vue-chunks-C1K3ngR7.js";const p=()=>{const a=i(),f=i(),u=(e,t)=>{a.value=e,f.value=t},o=async()=>{await y();const e=c(a);return e||console.error("The form is not registered. Please use the register method to register"),e};return{formRegister:u,formMethods:{setProps:async(e={})=>{const t=await o();t?.setProps(e),e.model&&t?.setValues(e.model)},setValues:async e=>{(await o())?.setValues(e)},setSchema:async e=>{(await o())?.setSchema(e)},addSchema:async(e,t)=>{(await o())?.addSchema(e,t)},delSchema:async e=>{(await o())?.delSchema(e)},getFormData:async(e=!0)=>{const r=(await o())?.formModel;return e?Object.keys(r).reduce((m,n)=>{const s=r[n];return l(s)||(d(s)?Object.keys(s).length>0&&(m[n]=s):m[n]=s),m},{}):r},getComponentExpose:async e=>(await o())?.getComponentExpose(e),getFormItemExpose:async e=>(await o())?.getFormItemExpose(e),getElFormExpose:async()=>(await o(),c(f)),getFormExpose:async()=>(await o(),c(a))}}};export{p as u};
