import{F as y}from"./Form-CzZbC4Aj.js";import{c as b}from"./index-CAdyeJt3.js";/* empty css                  */import{u as C}from"./useForm-CD85wrwf.js";import{u as D}from"./useValidator-Barz9SCp.js";import{u as M}from"./element-plus--V1NSjC4.js";import{x as P,aF as k,aG as E,X as i,ag as h,y as I,G as N,H as s,P as n,u as o,A as R,L as u,M as c}from"./vue-chunks-C1K3ngR7.js";const U=P({__name:"AddButtonPermission",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:k(["confirm"],["update:modelValue"]),setup(d,{emit:p}){const{t:l}=b(),t=E(d,"modelValue"),{required:m}=D(),f=i([{field:"label",label:"label",component:"Input",colProps:{span:24}},{field:"value",label:"value",component:"Input",colProps:{span:24}}]),{formRegister:v,formMethods:V}=C(),{getFormData:B,getElFormExpose:g}=V,_=p,x=i({label:[m()],value:[m()]}),F=async()=>{const r=await g();if(!r)return;if(await r?.validate().catch(e=>{})){const e=await B();e.id=Date.now(),_("confirm",e),t.value=!1}};return(r,a)=>{const e=h("BaseButton");return I(),N(o(M),{modelValue:t.value,"onUpdate:modelValue":a[1]||(a[1]=w=>t.value=w),title:o(l)("device.addButtonPermission")},{default:s(()=>[n(o(y),{rules:x,onRegister:o(v),schema:f},null,8,["rules","onRegister","schema"])]),footer:s(()=>[R("div",null,[n(e,{onClick:a[0]||(a[0]=()=>t.value=!1)},{default:s(()=>[u(c(o(l)("common.cancel")),1)]),_:1}),n(e,{type:"primary",onClick:F},{default:s(()=>[u(c(o(l)("device.confirm")),1)]),_:1})])]),_:1},8,["modelValue","title"])}}});export{U as _};
