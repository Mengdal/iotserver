import{b as M,c as W,I as we,H as Ve,J,u as F,d as _e,_ as Y,K as yt,L as ze,M as lt,p as Be,N as Ct,O as kt,P as $t,n as Tt,g as ct,Q as Pt}from"./index-CAdyeJt3.js";import{as as St,at as It,au as Lt,f as ne,av as Mt,c as xe,aw as Vt,O as Ee,Q as De,P as Fe,s as Rt,ax as Ot,ay as jt}from"./element-plus--V1NSjC4.js";import{x as R,y as b,G as z,C,u as e,r as L,P as t,O as N,c as f,aA as re,aa as Ue,X as Ie,j as Ne,w as le,I as Q,aq as ge,ag as H,H as k,z as D,a4 as He,L as G,M as P,B as At,n as it,A as v,K as de,V as zt,aJ as Bt,J as Et,ax as Dt,ad as Ft,Q as ye,a5 as Ut,T as ut,a1 as Nt,am as Ht}from"./vue-chunks-C1K3ngR7.js";/* empty css                  */import{a as Wt,f as qt,b as Kt}from"./tree-R6XTZANN.js";/* empty css                         */import{_ as Jt}from"./LocaleDropdown.vue_vue_type_script_setup_true_lang-OQ7_1PbQ.js";import{_ as dt}from"./avatar-BmumZgeG.js";import{_ as Qt}from"./Dialog.vue_vue_type_style_index_0_lang-aEWcq84Q.js";import{F as Gt}from"./Form-CzZbC4Aj.js";import{u as Xt}from"./useForm-CD85wrwf.js";import{u as Yt}from"./useValidator-Barz9SCp.js";import{d as Zt}from"./dateUtil-HUUeH7cc.js";import{a as el}from"./index-CL7E5KqJ.js";/* empty css                  *//* empty css               *//* empty css               *//* empty css                */import"./el-checkbox-group-Cm0j4lwI.js";/* empty css                       *//* empty css                  */import"./Highlight.vue_vue_type_script_lang-BYSr0XZy.js";/* empty css                */import"./wang-editor-Bckixh16.js";import"./index-DfycOL0q.js";const tl=R({__name:"Backtop",setup(a){const{getPrefixCls:r,variables:l}=M(),o=r("backtop");return(n,c)=>(b(),z(e(St),{class:C(e(o)),target:`.${e(l).namespace}-layout-content-scrollbar .${e(l).elNamespace}-scrollbar__wrap`},null,8,["class","target"]))}}),ll=(a,r)=>(Wt(a,o=>o.path===r)||[]).map(o=>o.path),ol=(a=[],r)=>{const l=L(),o=a.filter(n=>(n.meta??{}).hidden?!1:(l.value=n,!0));return o.length===1?{oneShowingChild:!0,onlyOneChild:e(l)}:o.length?{oneShowingChild:!1,onlyOneChild:e(l)}:(l.value={...r,path:"",noShowingChildren:!0},{oneShowingChild:!0,onlyOneChild:e(l)})},al=()=>({renderMenuTitle:r=>{const{t:l}=W(),{title:o="Please set title",icon:n}=r;return n?t(N,null,[t(we,{icon:r.icon},null),t("span",{class:"v-menu__title overflow-hidden overflow-ellipsis whitespace-nowrap"},[l(o)])]):t("span",{class:"v-menu__title overflow-hidden overflow-ellipsis whitespace-nowrap"},[l(o)])}}),{t:nl}=W(),{getPrefixCls:sl}=M(),rl=sl("submenu"),{renderMenuTitle:ot}=al(),cl=a=>{const r=(l,o="/")=>{if(!l||!Array.isArray(l))return[];const n=l.filter(s=>!s.meta?.hidden),c=n.findIndex(s=>s.meta?.classifyName);return n.map((s,d)=>{const p=s.meta??{},{oneShowingChild:m,onlyOneChild:h}=ol(s.children,s),u=Ve(s.path)?s.path:J(o,s.path);if(m&&(!h?.children||h?.noShowingChildren)&&!p?.alwaysShow){const y=d===c;return t("div",{key:s.path},[p.classifyName&&t("p",{style:{padding:"10px",fontSize:"16px",color:"#4260ef",textAlign:"center",borderTop:y?"none":"1px solid #ccc",fontWeight:"bold",paddingTop:"20px",backgroundColor:"#fff"}},[`- ${nl(p.classifyName)} -`]),t(It,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"45px",backgroundColor:"#fff",color:"#8b91a0"},index:h?J(u,h.path):u},{default:()=>ot(h?h?.meta:p)})])}else return t(Lt,{key:s.path,index:u,teleported:!0,popperClass:e(a)==="vertical"?`${rl}-popper--vertical`:""},{title:()=>ot(p),default:()=>r(s.children,u)})})};return{renderMenuItem:r}};function il(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!Ue(a)}const{getPrefixCls:ul}=M(),me=ul("menu"),dl=R({name:"Menu",props:{menuSelect:{type:Function,default:void 0}},setup(a){const r=F(),l=f(()=>r.getLayout),{push:o,currentRoute:n}=re(),c=_e(),s=f(()=>["classic","topLeft","cutMenu"].includes(e(l))?"vertical":"horizontal"),d=f(()=>e(l)==="cutMenu"?c.getMenuTabRouters:c.getRouters),p=f(()=>r.getCollapse);f(()=>r.getUniqueOpened);const m=f(()=>{const{meta:w,path:$}=e(n);return w.activeMenu?w.activeMenu:$}),h=w=>{a.menuSelect&&a.menuSelect(w),Ve(w)?window.open(w):o(w)},u=()=>{if(e(l)==="top")return y();{let w;return t(ne,null,il(w=y())?w:{default:()=>[w]})}},y=()=>t(Mt,{defaultActive:e(m),mode:e(s),collapse:e(l)==="top"||e(l)==="cutMenu"?!1:e(p),uniqueOpened:(e(l)==="top",!0),backgroundColor:"var(--left-menu-bg-color)",textColor:"var(--left-menu-text-color)",activeTextColor:"var(--left-menu-text-active-color)",popperClass:e(s)==="vertical"?`${me}-popper--vertical`:`${me}-popper--horizontal`,onSelect:h},{default:()=>{const{renderMenuItem:w}=cl(s);return w(e(d))}});return()=>t("div",{id:me,class:[`${me} ${me}__${e(s)}`,"h-[100%] overflow-hidden flex-col bg-[var(--left-menu-bg-color)]",{"w-[var(--left-menu-min-width)]":e(p)&&e(l)!=="cutMenu","w-[var(--left-menu-max-width)]":!e(p)&&e(l)!=="cutMenu"}],style:{backgroundColor:"#fff"}},[u()])}}),Se=Y(dl,[["__scopeId","data-v-88914942"]]),Le=Ie({}),fl=a=>{for(const r of a)(r.meta??{})?.hidden||(Le[r.path]=[])},ft=(a,r)=>{const l=[];for(const o of a){let n=null;const c=o.meta??{};if(!c.hidden||c.canTo){const s=ll(r,o.path),d=Ve(o.path)?o.path:s.join("/");n=xe(o),n.path=d,o.children&&n&&(n.children=ft(o.children,r)),n&&l.push(n),s.length&&Reflect.has(Le,s[0])&&Le[s[0]].push(d)}}return l},{getPrefixCls:pl,variables:ml}=M(),at=pl("tab-menu"),hl=R({name:"TabMenu",directives:{ClickOutside:Vt},setup(){const{push:a,currentRoute:r}=re(),{t:l}=W(),o=F(),n=f(()=>o.getCollapse),c=f(()=>o.getFixedMenu),s=_e(),d=f(()=>s.getRouters),p=f(()=>e(d).filter(i=>!i?.meta?.hidden));Ne(()=>{if(e(c)){const i=`/${e(r).path.split("/")[1]}`,S=e(p).find(g=>(g.meta?.alwaysShow||g?.children?.length&&g?.children?.length>1)&&g.path===i)?.children;u.value=i,S&&s.setMenuTabRouters(xe(S).map(g=>(g.path=J(e(u),g.path),g)))}}),le(()=>d.value,i=>{fl(i),ft(i,i)},{immediate:!0,deep:!0});const m=L(!0);le(()=>n.value,i=>{i?m.value=!i:setTimeout(()=>{m.value=!i},200)},{immediate:!0});const h=L(!!e(c)),u=L("");le(()=>r.value.path,()=>{if(e(c)){const i=`/${e(r).path.split("/")[1]}`,S=e(p).find(g=>(g.meta?.alwaysShow||g?.children?.length&&g?.children?.length>1)&&g.path===i)?.children;u.value=i,S&&s.setMenuTabRouters(xe(S).map(g=>(g.path=J(e(u),g.path),g)))}},{immediate:!0});const y=i=>{if(Ve(i.path)){window.open(i.path);return}const S=i.children?i.path:i.path.split("/")[0],g=e(u);u.value=i.children?i.path:i.path.split("/")[0],i.children?(o.setFixedMenu(!0),(S===g||!e(h))&&(h.value=!e(h)),e(h)&&s.setMenuTabRouters(xe(i.children).map(O=>(O.path=J(e(u),O.path),O)))):(o.setFixedMenu(!1),a(i.path),s.setMenuTabRouters([]),h.value=!1)},w=i=>{const{path:S}=e(r);return!!Le[i].includes(S)},$=()=>{e(c)||(h.value=!1)};return()=>Q(t("div",{id:`${ml.namespace}-menu`,class:[at,"relative bg-[var(--left-menu-bg-color)] top-1px layout-border__right",{"w-[var(--tab-menu-max-width)]":!e(n),"w-[var(--tab-menu-min-width)]":e(n)}]},[t(ne,{class:"!h-[calc(100%-var(--tab-menu-collapse-height)-1px)]"},{default:()=>[t("div",null,{default:()=>e(p).map(i=>{const S=i.meta?.alwaysShow||i?.children?.length&&i?.children?.length>1?i:{...i?.children&&i?.children[0],path:J(i.path,(i?.children&&i?.children[0])?.path)};return t("div",{class:[`${at}__item`,"text-center text-12px relative py-12px cursor-pointer",{"is-active":w(i.path)}],onClick:()=>{y(S)}},[t("div",null,[t(we,{icon:S?.meta?.icon},null)]),e(m)?t("p",{class:"break-words mt-5px px-2px"},[l(S.meta?.title||"")]):void 0])})})]}),e(c)&&t(Se,{class:["!absolute top-0 z-2001",{"!left-[var(--tab-menu-min-width)]":e(n),"!left-[var(--tab-menu-max-width)]":!e(n),"!w-[var(--left-menu-max-width)] border-r-1 border-r-solid border-[var(--el-border-color)]":e(h)||e(c),"!w-0":!e(h)&&!e(c)}],style:"transition: width var(--transition-time-02), left var(--transition-time-02);"},null)]),[[ge("click-outside"),$]])}}),vl=Y(hl,[["__scopeId","data-v-d1024fc9"]]),pt=(a,r="")=>{let l=[];return a.forEach(o=>{const n=o.meta??{},c=J(r,o.path);if(n?.affix&&l.push({...o,path:c,fullPath:c}),o.children){const s=pt(o.children,c);s.length>=1&&(l=[...l,...s])}}),l},nt=R({__name:"ContextMenu",props:{schema:{type:Array,default:()=>[]},trigger:{type:String,default:"contextmenu"},tagItem:{type:Object,default:()=>({})}},emits:["visibleChange"],setup(a,{expose:r,emit:l}){const{getPrefixCls:o}=M(),n=o("context-menu"),{t:c}=W(),s=l,d=a,p=u=>{u.command&&u.command(u)},m=u=>{s("visibleChange",u,d.tagItem)},h=L();return r({elDropdownMenuRef:h,tagItem:d.tagItem}),(u,y)=>{const w=H("Icon");return b(),z(e(Fe),{ref_key:"elDropdownMenuRef",ref:h,class:C(e(n)),trigger:a.trigger,placement:"bottom-start",onCommand:p,onVisibleChange:m,"popper-class":"v-context-menu-popper"},{dropdown:k(()=>[t(e(Ee),null,{default:k(()=>[(b(!0),D(N,null,He(a.schema,($,i)=>(b(),z(e(De),{key:`dropdown${i}`,divided:$.divided,disabled:$.disabled,command:$},{default:k(()=>[t(w,{icon:$.icon},null,8,["icon"]),G(" "+P(e(c)($.label)),1)]),_:2},1032,["divided","disabled","command"]))),128))]),_:1})]),default:k(()=>[At(u.$slots,"default")]),_:3},8,["class","trigger"])}}}),gl=(a,r,l,o)=>(a/=o/2,a<1?l/2*a*a+r:(a--,-l/2*(a*(a-2)-1)+r)),xl=(a,r,l)=>{a[r]=l};function he({el:a,position:r="scrollLeft",to:l,duration:o=500,callback:n}){const c=L(!1),s=a[r],d=l-s,p=20;let m=0;function h(){if(!e(c))return;m+=p;const w=gl(m,s,d,o);xl(a,r,w),m<o&&e(c)?requestAnimationFrame(h):n&&n()}function u(){c.value=!0,h()}function y(){c.value=!1}return{start:u,stop:y}}const wl=()=>{const a=yt(),{replace:r,currentRoute:l}=re(),o=f(()=>a.getSelectedTag);return{closeAll:u=>{a.delAllViews(),u?.()},closeLeft:u=>{a.delLeftViews(e(o)),u?.()},closeRight:u=>{a.delRightViews(e(o)),u?.()},closeOther:u=>{a.delOthersViews(e(o)),u?.()},closeCurrent:(u,y)=>{u?.meta?.affix||(a.delView(u||e(l)),y?.())},refreshPage:async(u,y)=>{a.delCachedView();const{path:w,query:$}=u||e(l);await it(),r({path:"/redirect"+w,query:$}),y?.()},setTitle:(u,y)=>{a.setTitle(u,y)}}},_l=["id"],bl={class:"overflow-hidden flex-1"},yl={class:"flex h-full"},Cl=["onClick"],kl=R({__name:"TagsView",setup(a){const{getPrefixCls:r}=M(),l=r("tags-view"),{t:o}=W(),{currentRoute:n,push:c}=re(),{closeAll:s,closeLeft:d,closeRight:p,closeOther:m,closeCurrent:h,refreshPage:u}=wl(),y=_e(),w=f(()=>y.getRouters),$=ze(),i=f(()=>$.getVisitedViews),S=L([]),g=f(()=>$.getSelectedTag),O=$.setSelectedTag,B=F(),E=f(()=>B.getTagsViewIcon),U=f(()=>B.getIsDark),ce=()=>{S.value=pt(e(w));for(const x of e(S))x.name&&$.addVisitedView(xe(x))},q=()=>{const{name:x}=e(n);x&&(O(e(n)),$.addView(e(n)))},j=x=>{h(x,()=>{Ge(x)&&ie()})},ie=()=>{const T=$.getVisitedViews.slice(-1)[0];if(T)c(T);else{if(e(n).path===y.getAddRouters[0].path||e(n).path===y.getAddRouters[0].redirect){q();return}c(y.getAddRouters[0].path)}},oe=()=>{s(()=>{ie()})},qe=()=>{m()},Oe=async x=>{u(x)},Ke=()=>{d()},Je=()=>{p()},vt=async()=>{await it();for(const x of e(i))if(x.fullPath===e(n).path){gt(x),x.fullPath!==e(n).fullPath&&$.updateVisitedView(e(n));break}},Qe=lt(),gt=x=>{const T=e(je)?.wrapRef;let A=null,ue=null;const _=e(Qe);if(_.length>0&&(A=_[0],ue=_[_.length-1]),(A?.to).fullPath===x.fullPath){const{start:Z}=he({el:T,position:"scrollLeft",to:0,duration:500});Z()}else if((ue?.to).fullPath===x.fullPath){const{start:Z}=he({el:T,position:"scrollLeft",to:T.scrollWidth-T.offsetWidth,duration:500});Z()}else{const Z=_.findIndex(pe=>(pe?.to).fullPath===x.fullPath),Ae=document.getElementsByClassName(`${l}__item`),bt=Ae[Z-1],Ze=Ae[Z+1],et=Ze.offsetLeft+Ze.offsetWidth+4,tt=bt.offsetLeft-4;if(et>e(be)+T.offsetWidth){const{start:pe}=he({el:T,position:"scrollLeft",to:et-T.offsetWidth,duration:500});pe()}else if(tt<e(be)){const{start:pe}=he({el:T,position:"scrollLeft",to:tt,duration:500});pe()}}},Ge=x=>x.path===e(n).path,Xe=lt(),xt=(x,T)=>{if(x)for(const A of e(Xe)){const ue=A.elDropdownMenuRef;T.fullPath!==A.tagItem.fullPath&&(ue?.handleClose(),O(T))}},je=L(),be=L(0),wt=({scrollLeft:x})=>{be.value=x},Ye=x=>{const T=e(je)?.wrapRef,{start:A}=he({el:T,position:"scrollLeft",to:e(be)+x,duration:500});A()},_t=x=>!!(x?.matched?.[1]?.meta?.icon&&e(E)||x?.meta?.affix&&e(E)&&x?.meta?.icon);return Ne(()=>{ce(),q()}),le(()=>n.value,()=>{q(),vt()}),(x,T)=>{const A=H("Icon"),ue=H("router-link");return b(),D("div",{id:e(l),class:C([e(l),"flex w-full relative bg-[#fff] dark:bg-[var(--el-bg-color)]"])},[v("span",{class:C([`${e(l)}__tool ${e(l)}__tool--first`,"w-[var(--tags-view-height)] h-[var(--tags-view-height)] flex items-center justify-center cursor-pointer"]),onClick:T[0]||(T[0]=_=>Ye(-200))},[t(A,{icon:"vi-ep:d-arrow-left",color:"var(--el-text-color-placeholder)","hover-color":U.value?"#fff":"var(--el-color-black)"},null,8,["hover-color"])],2),v("div",bl,[t(e(ne),{ref_key:"scrollbarRef",ref:je,class:"h-full",onScroll:wt},{default:k(()=>[v("div",yl,[(b(!0),D(N,null,He(i.value,_=>(b(),z(e(nt),{ref_for:!0,ref:e(Xe).set,schema:[{icon:"vi-ant-design:sync-outlined",label:e(o)("common.reload"),disabled:g.value?.fullPath!==_.fullPath,command:()=>{Oe(_)}},{icon:"vi-ant-design:close-outlined",label:e(o)("common.closeTab"),disabled:!!i.value?.length&&g.value?.meta.affix,command:()=>{j(_)}},{divided:!0,icon:"vi-ant-design:vertical-right-outlined",label:e(o)("common.closeTheLeftTab"),disabled:!!i.value?.length&&(_.fullPath===i.value[0].fullPath||g.value?.fullPath!==_.fullPath),command:()=>{Ke()}},{icon:"vi-ant-design:vertical-left-outlined",label:e(o)("common.closeTheRightTab"),disabled:!!i.value?.length&&(_.fullPath===i.value[i.value.length-1].fullPath||g.value?.fullPath!==_.fullPath),command:()=>{Je()}},{divided:!0,icon:"vi-ant-design:tag-outlined",label:e(o)("common.closeOther"),disabled:g.value?.fullPath!==_.fullPath,command:()=>{qe()}},{icon:"vi-ant-design:line-outlined",label:e(o)("common.closeAll"),command:()=>{oe()}}],key:_.fullPath,"tag-item":_,class:C([`${e(l)}__item`,_?.meta?.affix?`${e(l)}__item--affix`:"",{"is-active":Ge(_)}]),onVisibleChange:xt},{default:k(()=>[v("div",null,[t(ue,{ref_for:!0,ref:e(Qe).set,to:{..._},custom:""},{default:k(({navigate:Z})=>[v("div",{onClick:Z,class:"h-full flex justify-center items-center whitespace-nowrap pl-15px"},[_t(_)?(b(),z(A,{key:0,icon:_?.matched?.[1]?.meta?.icon||_?.meta?.icon,size:12,class:"mr-5px"},null,8,["icon"])):de("",!0),G(" "+P(e(o)(_?.meta?.title))+" ",1),t(A,{class:C(`${e(l)}__item--close`),color:"#333",icon:"vi-ant-design:close-outlined",size:12,onClick:zt(Ae=>j(_),["prevent","stop"])},null,8,["class","onClick"])],8,Cl)]),_:2},1032,["to"])])]),_:2},1032,["schema","tag-item","class"]))),128))])]),_:1},512)]),v("span",{class:C([`${e(l)}__tool`,"w-[var(--tags-view-height)] h-[var(--tags-view-height)] flex items-center justify-center cursor-pointer"]),onClick:T[1]||(T[1]=_=>Ye(200))},[t(A,{icon:"vi-ep:d-arrow-right",color:"var(--el-text-color-placeholder)","hover-color":U.value?"#fff":"var(--el-color-black)"},null,8,["hover-color"])],2),v("span",{class:C([`${e(l)}__tool`,"w-[var(--tags-view-height)] h-[var(--tags-view-height)] flex items-center justify-center cursor-pointer"]),onClick:T[2]||(T[2]=_=>Oe(g.value))},[t(A,{icon:"vi-ant-design:reload-outlined",color:"var(--el-text-color-placeholder)","hover-color":U.value?"#fff":"var(--el-color-black)"},null,8,["hover-color"])],2),t(e(nt),{trigger:"click",schema:[{icon:"vi-ant-design:sync-outlined",label:e(o)("common.reload"),command:()=>{Oe(g.value)}},{icon:"vi-ant-design:close-outlined",label:e(o)("common.closeTab"),disabled:!!i.value?.length&&g.value?.meta.affix,command:()=>{j(g.value)}},{divided:!0,icon:"vi-ant-design:vertical-right-outlined",label:e(o)("common.closeTheLeftTab"),disabled:!!i.value?.length&&g.value?.fullPath===i.value[0].fullPath,command:()=>{Ke()}},{icon:"vi-ant-design:vertical-left-outlined",label:e(o)("common.closeTheRightTab"),disabled:!!i.value?.length&&g.value?.fullPath===i.value[i.value.length-1].fullPath,command:()=>{Je()}},{divided:!0,icon:"vi-ant-design:tag-outlined",label:e(o)("common.closeOther"),command:()=>{qe()}},{icon:"vi-ant-design:line-outlined",label:e(o)("common.closeAll"),command:()=>{oe()}}]},{default:k(()=>[v("span",{class:C([`${e(l)}__tool`,"w-[var(--tags-view-height)] h-[var(--tags-view-height)] flex items-center justify-center cursor-pointer block"])},[t(A,{icon:"vi-ant-design:setting-outlined",color:"var(--el-text-color-placeholder)","hover-color":U.value?"#fff":"var(--el-color-black)"},null,8,["hover-color"])],2)]),_:1},8,["schema"])],10,_l)}}}),Ce=Y(kl,[["__scopeId","data-v-7f348b32"]]),$l=["src"],Tl={class:"text-#000 font-bold"},ke=R({__name:"Logo",setup(a){const{getPrefixCls:r}=M(),l=r("logo"),o=F(),n=L(!0),c=f(()=>o.getTitle),s=f(()=>o.getLayout),d=f(()=>o.getCollapse),p=f(()=>o.getImgUrl);return Ne(()=>{e(d)&&(n.value=!1)}),le(()=>d.value,m=>{if(e(s)==="topLeft"||e(s)==="cutMenu"){n.value=!0;return}n.value=!m}),le(()=>s.value,m=>{m==="top"||m==="cutMenu"?n.value=!0:e(d)?n.value=!1:n.value=!0}),(m,h)=>{const u=H("router-link");return b(),D("div",null,[t(u,{class:C([e(l),s.value!=="classic"?`${e(l)}__Top`:"","flex !h-[var(--logo-height)] items-center cursor-pointer pl-8px relative decoration-none overflow-hidden"]),to:"/"},{default:k(()=>[v("img",{src:p.value,class:"w-[calc(var(--logo-height)-10px)] h-[calc(var(--logo-height)-10px)]"},null,8,$l),n.value?(b(),D("div",{key:0,class:C(["ml-10px text-16px font-700",{"text-[var(--logo-title-text-color)]":s.value==="classic","text-[var(--top-header-text-color)]":s.value==="topLeft"||s.value==="top"||s.value==="cutMenu"}])},[v("p",Tl,P(c.value),1)],2)):de("",!0)]),_:1},8,["class"])])}}}),Pl=R({__name:"Footer",setup(a){const{getPrefixCls:r}=M(),l=r("footer"),o=F(),n=f(()=>o.getTitle);return(c,s)=>(b(),D("div",{class:C([e(l),"text-center text-[var(--el-text-color-placeholder)] bg-[var(--app-content-bg-color)] h-[var(--app-footer-height)] leading-[var(--app-footer-height)] dark:bg-[var(--el-bg-color)] overflow-hidden"])}," Copyright ©2021-present "+P(n.value),3))}}),$e=R({__name:"AppView",setup(a){const r=F(),l=f(()=>r.getFooter),o=ze();return f(()=>(o.getCachedViews,o.getCachedViews)),(n,c)=>{const s=H("router-view");return b(),D(N,null,[v("section",{class:C(["box-border  w-full bg-[var(--app-content-bg-color)] dark:bg-[var(--el-bg-color)]",{"!min-h-[calc(100vh-var(--top-tool-height)-var(--tags-view-height)-var(--app-footer-height))] pb-0":l.value}])},[t(s,null,{default:k(({Component:d,route:p})=>[(b(),z(Bt,null,[(b(),z(Et(d),{key:p.fullPath}))],1024))]),_:1})],2),l.value?(b(),z(e(Pl),{key:0})):de("",!0)],64)}}}),Sl=R({__name:"Collapse",props:{color:Be.string.def("")},setup(a){const{getPrefixCls:r}=M(),l=r("collapse"),o=F(),n=f(()=>o.getCollapse),c=()=>{const s=e(n);o.setCollapse(!s)};return(s,d)=>{const p=H("Icon");return b(),D("div",{class:C(e(l)),onClick:c},[t(p,{size:18,icon:n.value?"vi-ant-design:menu-unfold-outlined":"vi-ant-design:menu-fold-outlined",color:a.color,class:"cursor-pointer"},null,8,["icon","color"])],2)}}}),Il=R({__name:"SizeDropdown",props:{color:Be.string.def("")},setup(a){const{getPrefixCls:r}=M(),l=r("size-dropdown"),{t:o}=W(),n=F(),c=f(()=>n.sizeMap),s=d=>{n.setCurrentSize(d)};return(d,p)=>{const m=H("Icon");return b(),z(e(Fe),{class:C(e(l)),trigger:"click",onCommand:s},{dropdown:k(()=>[t(e(Ee),null,{default:k(()=>[(b(!0),D(N,null,He(c.value,h=>(b(),z(e(De),{key:h,command:h},{default:k(()=>[G(P(e(o)(`size.${h}`)),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:k(()=>[t(m,{size:18,icon:"vi-mdi:format-size",color:a.color,class:"cursor-pointer"},null,8,["color"])]),_:1},8,["class"])}}}),Ll="/assets/R-C-CtMaJUs0.jpg",We=Dt("lock",{state:()=>({lockInfo:{}}),getters:{getLockInfo(){return this.lockInfo}},actions:{setLockInfo(a){this.lockInfo=a},resetLockInfo(){this.lockInfo={}},unLock(a){return this.lockInfo?.password===a?(this.resetLockInfo(),!0):!1}},persist:!0}),Ml=R({__name:"LockDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(a,{emit:r}){const{getPrefixCls:l}=M(),o=l("lock-dialog"),{required:n}=Yt(),{t:c}=W(),s=We(),d=a,p=r,m=f({get:()=>d.modelValue,set:B=>{p("update:modelValue",B)}});le(m,async B=>{if(B){const E=await g("password");setTimeout(()=>{E?.focus()},10)}},{immediate:!0});const h=L(c("lock.lockScreen")),u=Ie({password:[n()]}),y=Ie([{label:c("lock.lockPassword"),field:"password",component:"Input",componentProps:{type:"password",showPassword:!0,onKeydown:B=>{B.key==="Enter"&&O()}}}]),{formRegister:w,formMethods:$}=Xt(),{getFormData:i,getElFormExpose:S,getComponentExpose:g}=$,O=async()=>{(await S())?.validate(async E=>{if(E){m.value=!1;const U=await i();s.setLockInfo({isLock:!0,...U})}})};return(B,E)=>{const U=H("BaseButton");return b(),z(e(Qt),{modelValue:m.value,"onUpdate:modelValue":E[0]||(E[0]=ce=>m.value=ce),width:"500px","max-height":"170px",class:C(e(o)),title:h.value},{footer:k(()=>[t(U,{type:"primary",onClick:O},{default:k(()=>[G(P(e(c)("lock.lock")),1)]),_:1})]),default:k(()=>[E[1]||(E[1]=v("div",{class:"flex flex-col items-center"},[v("img",{src:dt,alt:"",class:"w-70px h-70px rounded-[50%]"}),v("span",{class:"text-14px my-10px text-[var(--top-header-text-color)]"},"Archer")],-1)),t(e(Gt),{"is-col":!1,schema:y,rules:u,onRegister:e(w)},null,8,["schema","rules","onRegister"])]),_:1},8,["modelValue","class","title"])}}}),Vl=Y(Ml,[["__scopeId","data-v-c0b810d1"]]),Rl=(a=!0)=>{let r;const l=Ie({year:0,month:0,week:"",day:0,hour:"",minute:"",second:0,meridiem:""}),o=()=>{const s=Zt(),d=s.format("HH"),p=s.format("mm"),m=s.get("s");l.year=s.get("y"),l.month=s.get("M")+1,l.week="星期"+["日","一","二","三","四","五","六"][s.day()],l.day=s.get("date"),l.hour=d,l.minute=p,l.second=m,l.meridiem=s.format("A")};function n(){o(),clearInterval(r),r=setInterval(()=>o(),1e3)}function c(){clearInterval(r)}return Ct(()=>{a&&n()}),kt(()=>{c()}),{...Ft(l),start:n,stop:c}},Ol={class:"flex w-screen h-screen justify-center items-center"},jl={class:"absolute bottom-5 w-full text-gray-300 xl:text-xl 2xl:text-3xl text-center enter-y"},Al={class:"text-5xl mb-4 enter-x"},zl={class:"text-3xl"},Bl={class:"text-2xl"},El=R({__name:"LockPage",setup(a){const r=ze(),{clear:l}=Tt(),{replace:o}=re(),n=L(""),c=L(!1),s=L(!1),d=L(!0),{getPrefixCls:p}=M(),m=p("lock-page"),h=We(),{hour:u,month:y,minute:w,meridiem:$,year:i,day:S,week:g}=Rl(!0),{t:O}=W();async function B(){if(!n.value)return;const q=n.value;try{c.value=!0;const j=await h.unLock(q);s.value=!j}finally{c.value=!1}}async function E(){await el().catch(()=>{})&&(l(),r.delAllViews(),$t(),h.resetLockInfo(),o("/login"))}const U=L();function ce(q=!1){d.value=q,q||requestAnimationFrame(()=>{U.value?.focus()})}return(q,j)=>{const ie=H("BaseButton");return b(),D("div",{class:C([e(m),"fixed inset-0 flex h-screen w-screen bg-black items-center justify-center"])},[Q(v("div",{class:C([`${e(m)}__unlock`,"absolute top-0 left-1/2 flex pt-5 h-16 items-center justify-center sm:text-md xl:text-xl text-white flex-col cursor-pointer transform translate-x-1/2"]),onClick:j[0]||(j[0]=oe=>ce(!1))},[t(e(we),{icon:"vi-ep:lock"}),v("span",null,P(e(O)("lock.unlock")),1)],2),[[ye,d.value]]),v("div",Ol,[v("div",{class:C([`${e(m)}__hour`,"relative mr-5 md:mr-20 w-2/5 h-2/5 md:h-4/5"])},[v("span",null,P(e(u)),1),Q(v("span",{class:"meridiem absolute left-5 top-5 text-md xl:text-xl"},P(e($)),513),[[ye,d.value]])],2),v("div",{class:C(`${e(m)}__minute w-2/5 h-2/5 md:h-4/5 `)},[v("span",null,P(e(w)),1)],2)]),t(ut,{name:"fade-slide"},{default:k(()=>[Q(v("div",{class:C(`${e(m)}-entry`)},[v("div",{class:C(`${e(m)}-entry-content`)},[j[4]||(j[4]=v("div",{class:"flex flex-col items-center"},[v("img",{src:dt,alt:"",class:"w-70px h-70px rounded-[50%]"}),v("span",{class:"text-14px my-10px text-[var(--logo-title-text-color)]"},"Archer")],-1)),t(e(Rt),{type:"password",placeholder:e(O)("lock.placeholder"),class:"enter-x",modelValue:n.value,"onUpdate:modelValue":j[1]||(j[1]=oe=>n.value=oe),onKeydown:Ut(B,["enter"]),ref_key:"passwordInputRef",ref:U},null,8,["placeholder","modelValue"]),s.value?(b(),D("span",{key:0,class:C(`text-14px ${e(m)}-entry__err-msg enter-x`)},P(e(O)("lock.message")),3)):de("",!0),v("div",{class:C(`${e(m)}-entry__footer enter-x`)},[t(ie,{type:"primary",size:"small",class:"mt-2 mr-2 enter-x",link:"",disabled:c.value,onClick:j[2]||(j[2]=oe=>ce(!0))},{default:k(()=>[G(P(e(O)("common.back")),1)]),_:1},8,["disabled"]),t(ie,{type:"primary",size:"small",class:"mt-2 mr-2 enter-x",link:"",disabled:c.value,onClick:E},{default:k(()=>[G(P(e(O)("lock.backToLogin")),1)]),_:1},8,["disabled"]),t(ie,{type:"primary",class:"mt-2",size:"small",link:"",onClick:j[3]||(j[3]=oe=>B()),disabled:c.value},{default:k(()=>[G(P(e(O)("lock.entrySystem")),1)]),_:1},8,["disabled"])],2)],2)],2),[[ye,!d.value]])]),_:1}),v("div",jl,[Q(v("div",Al,[G(P(e(u))+":"+P(e(w))+" ",1),v("span",zl,P(e($)),1)],512),[[ye,!d.value]]),v("div",Bl,P(e(i))+"/"+P(e(y))+"/"+P(e(S))+" "+P(e(g)),1)])],2)}}}),Dl=Y(El,[["__scopeId","data-v-c68324ef"]]),Fl={class:"flex items-center gap-1"},Ul={class:"color-#000 font-bold font-size-4"},Nl=R({__name:"UserInfo",setup(a){const{t:r}=W();re();const l=ct(),o=We(),n=f(()=>o.getLockInfo?.isLock??!1),{getPrefixCls:c}=M(),s=c("user-info"),d=()=>{l.logoutConfirm()},p=L(!1),m=f(()=>(l.getUserInfo.username,l.getUserInfo.username));return(h,u)=>(b(),D(N,null,[t(e(Fe),{class:C(["custom-hover",e(s)]),trigger:"click"},{dropdown:k(()=>[t(e(Ee),null,{default:k(()=>[t(e(De),null,{default:k(()=>[v("div",{onClick:d},P(e(r)("common.loginOut")),1)]),_:1})]),_:1})]),default:k(()=>[v("div",Fl,[u[1]||(u[1]=v("img",{src:Ll,alt:"",class:"w-[calc(var(--logo-height)-25px)] rounded-[50%]"},null,-1)),v("span",Ul,P(m.value),1)])]),_:1},8,["class"]),p.value?(b(),z(Vl,{key:0,modelValue:p.value,"onUpdate:modelValue":u[0]||(u[0]=y=>p.value=y)},null,8,["modelValue"])):de("",!0),(b(),z(Nt,{to:"body"},[t(ut,{name:"fade-bottom",mode:"out-in"},{default:k(()=>[n.value?(b(),z(Dl,{key:0})):de("",!0)]),_:1})]))],64))}}),Hl=Y(Nl,[["__scopeId","data-v-5adbd179"]]),Wl=R({__name:"Screenfull",props:{color:Be.string.def("")},setup(a){const{getPrefixCls:r}=M(),l=r("screenfull"),{toggle:o,isFullscreen:n}=Pt(),c=()=>{o()};return(s,d)=>(b(),D("div",{class:C(e(l)),onClick:c},[t(e(we),{size:18,icon:e(n)?"vi-zmdi:fullscreen-exit":"vi-zmdi:fullscreen",color:a.color},null,8,["icon","color"])],2))}}),mt=(a,r="")=>{const l=[];for(const o of a){const n=o?.meta;if(n.hidden&&!n.canTo)continue;const c=!n.alwaysShow&&o.children?.length===1?{...o.children[0],path:J(o.path,o.children[0].path)}:{...o};c.path=J(r,c.path),c.children&&(c.children=mt(c.children,c.path)),c&&l.push(c)}return l};function ql(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!Ue(a)}const{getPrefixCls:Kl}=M(),Jl=Kl("breadcrumb"),Ql=F(),Gl=f(()=>Ql.getBreadcrumbIcon),Xl=R({name:"Breadcrumb",setup(){const{currentRoute:a}=re(),{t:r}=W(),l=L([]),o=_e(),n=f(()=>{const d=o.getRouters;return mt(d)}),c=()=>{const d=a.value.matched.slice(-1)[0].path;l.value=qt(e(n),p=>p.path===d)},s=()=>Kt(e(l)).map(p=>{const m=!p.redirect||p.redirect==="noredirect",h=p.meta;return t(jt,{to:{path:m?"":p.path},key:p.name},{default:()=>[h?.icon&&Gl.value?t(N,null,[t(we,{icon:h.icon,class:"mr-[5px]"},null),G(" "),r(p?.meta?.title||"")]):r(p?.meta?.title||"")]})});return le(()=>a.value,d=>{d.path.startsWith("/redirect/")||c()},{immediate:!0}),()=>{let d;return t(Ot,{separator:"/",class:`${Jl} flex items-center h-full ml-[10px]`},{default:()=>[t(Ht,{appear:!0,"enter-active-class":"animate__animated animate__fadeInRight"},ql(d=s())?d:{default:()=>[d]})]})}}}),Yl=Y(Xl,[["__scopeId","data-v-48a8fb48"]]),{getPrefixCls:Zl,variables:eo}=M(),to=Zl("tool-header"),fe=F(),lo=f(()=>fe.getBreadcrumb),oo=f(()=>fe.getHamburger),ao=f(()=>fe.getScreenfull),no=f(()=>fe.getSize),st=f(()=>fe.getLayout);f(()=>fe.getLocale);const so=R({name:"ToolHeader",setup(){return()=>t("div",{id:`${eo.namespace}-tool-header`,class:[to,"h-[var(--top-tool-height)] relative px-[var(--top-tool-p-x)] flex items-center justify-between"]},[st.value!=="top"?t("div",{class:"h-full flex items-center"},[oo.value&&st.value!=="cutMenu"?t(Sl,{class:"custom-hover",color:"var(--top-header-text-color)"},null):void 0,lo.value?t(Yl,{class:"<md:hidden"},null):void 0]):void 0,t("div",{class:"h-full flex items-center"},[ao.value?t(Wl,{class:"custom-hover",color:"var(--top-header-text-color)"},null):void 0,no.value?t(Il,{class:"custom-hover",color:"var(--top-header-text-color)"},null):void 0,t(Jt,{class:"custom-hover",color:"var(--top-header-text-color)"},null),t(Hl,null,null)])])}}),Te=Y(so,[["__scopeId","data-v-936ada9f"]]);function ro(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!Ue(a)}W();const{getPrefixCls:co}=M();_e();const ee=co("layout"),se=ct(),X=F(),Pe=f(()=>X.getPageLoading),te=f(()=>X.getTagsView),V=f(()=>X.getCollapse),ve=f(()=>X.logo),I=f(()=>X.getFixedHeader),K=f(()=>X.getMobile),io=f(()=>(se.getUserInfo.roleName,se.getUserInfo.enable)),ae=f(()=>X.getFixedMenu),Me=L();L();const uo=f(()=>{let a=se.getProject;if(a.enable){a.projectList;let r=a.projectList.map(l=>({value:l.id,label:l.name}));return Me.value=se.getProjectId?se.getProjectId:r[0].value,se.getProjectId,r}}),fo=a=>{se.setProjectID(a),Me.value=a,window.location.reload()},po=()=>({renderClassic:()=>t(N,null,[t("div",{class:["absolute top-0 left-0 h-full layout-border__right",{"!fixed z-3000":K.value}]},[ve.value?t(ke,{class:["bg-[var(--left-menu-bg-color)] relative",{"!pl-0":K.value&&V.value,"w-[var(--left-menu-min-width)]":X.getCollapse,"w-[var(--left-menu-max-width)]":!X.getCollapse}],style:"transition: all var(--transition-time-02);"},null):void 0,t(Se,{class:[{"!h-[calc(100%-var(--logo-height))]":ve.value}]},null)]),t("div",{class:[`${ee}-content`,"absolute top-0 h-[100%]",{"w-[calc(100%-var(--left-menu-min-width))] left-[var(--left-menu-min-width)]":V.value&&!K.value&&!K.value,"w-[calc(100%-var(--left-menu-max-width))] left-[var(--left-menu-max-width)]":!V.value&&!K.value&&!K.value,"fixed !w-full !left-0":K.value}],style:"transition: all var(--transition-time-02);"},[Q(t(ne,{class:[`${ee}-content-scrollbar`,{"!h-[calc(100%-var(--top-tool-height)-var(--tags-view-height))] mt-[calc(var(--top-tool-height)+var(--tags-view-height))]":I.value}]},{default:()=>[t("div",{class:[{"fixed top-0 left-0 z-10":I.value,"w-[calc(100%-var(--left-menu-min-width))] !left-[var(--left-menu-min-width)]":V.value&&I.value&&!K.value,"w-[calc(100%-var(--left-menu-max-width))] !left-[var(--left-menu-max-width)]":!V.value&&I.value&&!K.value,"!w-full !left-0":K.value}],style:"transition: all var(--transition-time-02);"},[t(Te,{class:["bg-[var(--top-header-bg-color)]",{"layout-border__bottom":!te.value}]},null),te.value?t(Ce,{class:"layout-border__bottom layout-border__top"},null):void 0]),t($e,null,null)]}),[[ge("loading"),Pe.value]])])]),renderTopLeft:()=>t(N,null,[t("div",{class:"flex items-center bg-[var(--top-header-bg-color)] relative layout-border__bottom dark:bg-[var(--el-bg-color)]"},[ve.value?t(ke,{class:"custom-hover"},null):void 0,t(Te,{class:"flex-1"},null)]),t("div",{class:"absolute top-[var(--logo-height)+1px] left-0 w-full h-[calc(100%-1px-var(--logo-height))] flex"},[t(Se,{class:"!h-full relative layout-border__right"},null),t("div",{class:[`${ee}-content`,"h-[100%]",{"w-[calc(100%-var(--left-menu-min-width))] left-[var(--left-menu-min-width)]":V.value,"w-[calc(100%-var(--left-menu-max-width))] left-[var(--left-menu-max-width)]":!V.value}],style:"transition: all var(--transition-time-02);"},[Q(t(ne,{class:[`${ee}-content-scrollbar`,{"!h-[calc(100%-var(--tags-view-height))] mt-[calc(var(--tags-view-height))]":I.value&&te.value}]},{default:()=>[te.value?t(Ce,{class:["layout-border__bottom absolute",{"!fixed top-0 left-0 z-10":I.value,"w-[calc(100%-var(--left-menu-min-width))] !left-[var(--left-menu-min-width)] mt-[calc(var(--logo-height)+1px)]":V.value&&I.value,"w-[calc(100%-var(--left-menu-max-width))] !left-[var(--left-menu-max-width)] mt-[calc(var(--logo-height)+1px)]":!V.value&&I.value}],style:"transition: width var(--transition-time-02), left var(--transition-time-02);"},null):void 0,t($e,null,null)]}),[[ge("loading"),Pe.value]])])])]),renderTop:()=>t(N,null,[t("div",{class:["flex items-center justify-between bg-[var(--top-header-bg-color)] relative",{"layout-border__bottom":!te.value}]},[ve.value?t(ke,{class:"custom-hover"},null):void 0,t(Se,{class:"flex-1 px-10px h-[var(--top-tool-height)]"},null),t(Te,null,null)]),t("div",{class:[`${ee}-content`,"w-full",{"h-[calc(100%-var(--top-tool-height))]":!I.value,"h-[calc(100%-var(--tags-view-height)-var(--top-tool-height))]":I.value}]},[Q(t(ne,{class:[`${ee}-content-scrollbar`,{"mt-[var(--tags-view-height)] !pb-[calc(var(--tags-view-height)+var(--app-footer-height))]":I.value,"pb-[var(--app-footer-height)]":!I.value}]},{default:()=>[te.value?t(Ce,{class:["layout-border__bottom layout-border__top relative",{"!fixed w-full top-[calc(var(--top-tool-height)+1px)] left-0":I.value}],style:"transition: width var(--transition-time-02), left var(--transition-time-02);"},null):void 0,t($e,null,null)]}),[[ge("loading"),Pe.value]])])]),renderCutMenu:()=>{let n;return t(N,null,[t("div",{class:"flex items-center bg-[var(--top-header-bg-color)] relative layout-border__bottom"},[ve.value?t("div",{class:"flex items-center"},[t(ke,{class:"custom-hover !pr-15px"},null),io.value?t("div",null,[t(H("el-select"),{modelValue:Me.value,"onUpdate:modelValue":c=>Me.value=c,placeholder:"选择不同项目",style:"width: 170px",onChange:fo},ro(n=uo.value.map(c=>t(H("el-option"),{key:c.value,label:c.label,value:c.value},null)))?n:{default:()=>[n]})]):null]):void 0,t(Te,{class:"flex-1"},null)]),t("div",{class:"absolute top-[var(--logo-height)] left-0 w-[calc(100%-2px)] h-[calc(100%-var(--logo-height))] flex"},[t(vl,null,null),t("div",{class:[`${ee}-content`,"h-[100%]",{"w-[calc(100%-var(--tab-menu-min-width))] left-[var(--tab-menu-min-width)]":V.value&&!ae.value,"w-[calc(100%-var(--tab-menu-max-width))] left-[var(--tab-menu-max-width)]":!V.value&&!ae.value,"w-[calc(100%-var(--tab-menu-min-width)-var(--left-menu-max-width))] ml-[var(--left-menu-max-width)]":V.value&&ae.value,"w-[calc(100%-var(--tab-menu-max-width)-var(--left-menu-max-width))] ml-[var(--left-menu-max-width)]":!V.value&&ae.value}],style:"transition: all var(--transition-time-02);"},[Q(t(ne,{class:[`${ee}-content-scrollbar`,{"!h-[calc(100%-var(--tags-view-height))] mt-[calc(var(--tags-view-height))]":I.value&&te.value}]},{default:()=>[te.value?t(Ce,{class:["relative layout-border__bottom layout-border__top",{"!fixed top-0 left-0 z-10":I.value,"w-[calc(100%-var(--tab-menu-min-width))] !left-[var(--tab-menu-min-width)] mt-[var(--logo-height)]":V.value&&I.value,"w-[calc(100%-var(--tab-menu-max-width))] !left-[var(--tab-menu-max-width)] mt-[var(--logo-height)]":!V.value&&I.value,"!fixed top-0 !left-[var(--tab-menu-min-width)+var(--left-menu-max-width)] z-10":I.value&&ae.value,"w-[calc(100%-var(--tab-menu-min-width)-var(--left-menu-max-width))] !left-[var(--tab-menu-min-width)+var(--left-menu-max-width)] mt-[var(--logo-height)]":V.value&&I.value&&ae.value,"w-[calc(100%-var(--tab-menu-max-width)-var(--left-menu-max-width))] !left-[var(--tab-menu-max-width)+var(--left-menu-max-width)] mt-[var(--logo-height)]":!V.value&&I.value&&ae.value}],style:"transition: width var(--transition-time-02), left var(--transition-time-02); background-color: #cdced5;"},null):void 0,t($e,null,null)]}),[[ge("loading"),Pe.value]])])])])}}),{getPrefixCls:mo}=M(),rt=mo("layout"),Re=F(),ho=f(()=>Re.getMobile),vo=f(()=>Re.getCollapse),ht=f(()=>Re.getLayout);f(()=>!1);const go=()=>{Re.setCollapse(!0)},xo=()=>{const{renderClassic:a,renderTopLeft:r,renderTop:l,renderCutMenu:o}=po();switch(e(ht)){case"classic":return a();case"topLeft":return r();case"top":return l();case"cutMenu":return o()}},wo=R({name:"Layout",setup(){return()=>t("section",{class:[rt,`${rt}__${ht.value}`,"w-[100%] h-[100%] relative"]},[ho.value&&!vo.value?t("div",{class:"absolute top-0 left-0 w-full h-full opacity-30 z-99 bg-[var(--el-color-black)]",onClick:go},null):void 0,xo(),t(tl,null,null)])}}),Wo=Y(wo,[["__scopeId","data-v-5ad95010"]]);export{Wo as default};
