import{x as R,aA as A,aH as H,r as v,c as f,j as w,ag as d,y as b,z as I,P as t,H as a,A as _,M as n,u as l,L as i,G as B,K as J,O as V}from"./vue-chunks-C1K3ngR7.js";import{c as j,f as L,_ as G}from"./index-CAdyeJt3.js";import{a as U}from"./index-DHVFwXOq.js";import{_ as $}from"./Table.vue_vue_type_script_lang-D3v-kC-o.js";import"./element-plus--V1NSjC4.js";import"./index-DfycOL0q.js";/* empty css                        *//* empty css                *//* empty css                  *//* empty css               */import"./el-checkbox-group-Cm0j4lwI.js";/* empty css                *//* empty css                         *//* empty css                  *//* empty css                       */const q={class:"pagination-container"},F=R({__name:"DepartmentDetail",setup(K){const{t:e}=j(),y=[10,20,50,100],D=A(),T=H(),o=v({departmentId:"",page:1,size:10}),s=v({}),p=v({}),C=f(()=>{switch(s.value.level_type){case"PROJECT":return e("device.project");case"DEPARTMENT":return e("device.DEPARTMENT");case"TENANT":return e("device.TENANT")}}),h=()=>{D.push("/system/departmentManage")};w(()=>{o.value.departmentId=JSON.parse(T.params.params).departmentId,N()});const z=f(()=>window.innerHeight-410),N=async()=>{let r=await U(o.value);r.code==200&&(s.value=r.data,r.data.level_type==="PROJECT"&&(p.value=r.data.devices,p.value),s.value)},k=[{field:"name",label:e("device.deviceName")},{field:"GWSN",label:"SN"},{field:"status",label:e("device.status")},{field:"lastOnline",label:e("device.lastOnlineTime")},{field:"description",label:e("userDemo.remark")}],E=r=>{o.value.page=r},P=r=>{o.value.size=r,o.value.page=1};return(r,c)=>{const x=d("el-tag"),O=d("el-space"),u=d("el-descriptions-item"),S=d("el-descriptions"),g=d("el-card"),M=d("el-pagination");return b(),I(V,null,[t(g,null,{header:a(()=>[_("span",{class:"el-card__header_title",onClick:c[0]||(c[0]=m=>h())},"â†© "+n(l(e)("device.return")),1)]),default:a(()=>[t(S,{class:"my-card",border:"",column:3},{title:a(()=>[t(O,{size:10},{default:a(()=>[_("span",null,[i(n(l(e)("exampleDemo.detail"))+" ",1),t(x,{type:s.value.status?"success":"danger"},{default:a(()=>[i(n(s.value.status?l(e)("userDemo.enable"):l(e)("userDemo.disable")),1)]),_:1},8,["type"])])]),_:1})]),default:a(()=>[t(u,{label:l(e)("device.name")},{default:a(()=>[i(n(s.value.name),1)]),_:1},8,["label"]),t(u,{label:l(e)("device.type")},{default:a(()=>[i(n(C.value),1)]),_:1},8,["label"]),t(u,{label:l(e)("device.leader")},{default:a(()=>[i(n(s.value.leader),1)]),_:1},8,["label"]),t(u,{label:l(e)("device.Contactinformation")},{default:a(()=>[i(n(s.value.phone),1)]),_:1},8,["label"]),t(u,{label:l(e)("descriptionsDemo.email")},{default:a(()=>[i(n(s.value.email),1)]),_:1},8,["label"]),t(u,{label:l(e)("userDemo.remark")},{default:a(()=>[i(n(s.value.remark),1)]),_:1},8,["label"]),t(u,{label:l(e)("userDemo.createTime")},{default:a(()=>[i(n(l(L)(s.value.created*1e3,"yyyy-MM-dd HH:mm:ss")),1)]),_:1},8,["label"])]),_:1})]),_:1}),s.value.level_type==="PROJECT"?(b(),B(g,{key:0,style:{"margin-top":"10px"}},{default:a(()=>[t(l($),{columns:k,data:p.value.list,border:!1,height:z.value},null,8,["data","height"]),_("div",q,[t(M,{"current-page":o.value.page,"onUpdate:currentPage":c[1]||(c[1]=m=>o.value.page=m),"page-size":o.value.size,"onUpdate:pageSize":c[2]||(c[2]=m=>o.value.size=m),"page-sizes":y,small:!1,disabled:!1,background:!0,layout:"total, sizes, prev, pager, next, jumper",total:p.value.totalPage,onSizeChange:P,onCurrentChange:E},null,8,["current-page","page-size","total"])])]),_:1})):J("",!0)],64)}}}),ce=G(F,[["__scopeId","data-v-8226d961"]]);export{ce as default};
