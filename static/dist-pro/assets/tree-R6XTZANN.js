const a={id:"id",children:"children",pid:"pid"},l=n=>Object.assign({},a,n),p=(n,r={})=>{r=l(r);const{children:e}=r,t=[...n];for(let s=0;s<t.length;s++)t[s][e]&&t.splice(s+1,0,...t[s][e]);return t},f=(n,r,e={})=>{e=l(e);const t=[],s=[...n],c=new Set,{children:i}=e;for(;s.length;){const h=s[0];if(c.has(h))t.pop(),s.shift();else if(c.add(h),h[i]&&s.unshift(...h[i]),t.push(h),r(h))return t}return null},d=(n,r,e={})=>{e=l(e);const t=e.children;function s(c){return c.map(i=>({...i})).filter(i=>(i[t]=i[t]&&s(i[t]),r(i)||i[t]&&i[t].length))}return s(n)},w=(n,r)=>n.map(e=>o(e,r)),o=(n,{children:r="children",conversion:e})=>{const t=Array.isArray(n[r])&&n[r].length>0,s=e(n)||{};return t?{...s,[r]:n[r].map(c=>o(c,{children:r,conversion:e}))}:{...s}},u=(n,r,e={})=>{n.forEach(t=>{const s=r(t,e)||t;t.children&&u(t.children,r,s)})};export{f as a,p as b,u as e,d as f,w as t};
