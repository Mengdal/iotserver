import{p as x}from"./index-CAdyeJt3.js";import{_ as Y}from"./Dialog.vue_vue_type_style_index_0_lang-aEWcq84Q.js";import{r as R,x as L,U as E,F as B,c as C,u as z,j as S,I as P,y as F,z as k,P as j,a6 as O,H as _,B as X,E as T,g as V}from"./vue-chunks-C1K3ngR7.js";const q=b=>{const{minHeightPx:c=400,minWidthPx:h=window.innerWidth/2,initHeight:y=400,initWidth:W=window.innerWidth/2}=b,d=R(y+"px"),l=R(W+"px");return{setupDrag:(t,M)=>{let w=!1,e="";const p=v=>{const u=t.getBoundingClientRect(),r=v.clientX-u.left,i=v.clientY-u.top,a=t.clientWidth,m=t.clientHeight,g=window.getComputedStyle(t),n=parseFloat(g.paddingLeft),s=parseFloat(g.paddingRight),o=parseFloat(g.paddingBottom),H=parseFloat(g.paddingTop);w||(r<n&&i>H&&i<m-o?(t.style.cursor="ew-resize",e="left"):r>a-s&&i>H&&i<m-o?(t.style.cursor="ew-resize",e="right"):i<H&&r>n&&r<a-s?(t.style.cursor="ns-resize",e="top"):i>m-o&&r>n&&r<a-s?(t.style.cursor="ns-resize",e="bottom"):r<n&&i<H?(t.style.cursor="nwse-resize",e="top-left"):r>a-s&&i<H?(t.style.cursor="nesw-resize",e="top-right"):r<n&&i>m-o?(t.style.cursor="nesw-resize",e="bottom-left"):r>a-s&&i>m-o?(t.style.cursor="nwse-resize",e="bottom-right"):(t.style.cursor="default",e=""))},f=v=>{if(e){w=!0;const u=v.clientX,r=v.clientY,i=t.clientWidth,a=M.querySelector(".el-dialog__body").clientHeight,m=n=>{if(!w)return;let s=i,o=a;e.includes("right")&&(s=Math.max(h,i+(n.clientX-u)*2),l.value=`${s}px`),e.includes("left")&&(s=Math.max(h,i-(n.clientX-u)*2),l.value=`${s}px`),e.includes("bottom")&&(o=Math.max(c,a+(n.clientY-r)*2-20),d.value=`${Math.min(o,window.innerHeight-165)}px`),e.includes("top")&&(o=Math.max(c,a-(n.clientY-r)*2-20),d.value=`${Math.min(o,window.innerHeight-165)}px`),e==="top-left"&&(s=Math.max(h,i-(n.clientX-u)*2),l.value=`${s}px`,o=Math.max(c,a-(n.clientY-r)*2-20),d.value=`${Math.min(o,window.innerHeight-165)}px`),e==="top-right"&&(s=Math.max(h,i+(n.clientX-u)*2),l.value=`${s}px`,o=Math.max(c,a-(n.clientY-r)*2-20),d.value=`${Math.min(o,window.innerHeight-165)}px`),e==="bottom-left"&&(s=Math.max(h,i-(n.clientX-u)*2),l.value=`${s}px`,o=Math.max(c,a+(n.clientY-r)*2-20),d.value=`${Math.min(o,window.innerHeight-165)}px`),e==="bottom-right"&&(s=Math.max(h,i+(n.clientX-u)*2),l.value=`${s}px`,o=Math.max(c,a+(n.clientY-r)*2-20),d.value=`${Math.min(o,window.innerHeight-165)}px`)},g=()=>{w=!1,document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",g)};document.addEventListener("mousemove",m),document.addEventListener("mouseup",g)}};t.addEventListener("mousemove",p),t.addEventListener("mousedown",f)},maxHeight:d,minWidth:l}},U=L({__name:"ResizeDialog",props:{modelValue:x.bool.def(!1),title:x.string.def("Dialog"),fullscreen:x.bool.def(!0),initWidth:x.number.def(window.innerWidth/2),initHeight:x.number.def(200),minResizeWidth:x.number.def(window.innerWidth/2),minResizeHeight:x.number.def(200)},setup(b){const c=b,{maxHeight:h,minWidth:y,setupDrag:W}=q({minHeightPx:c.minResizeHeight,minWidthPx:c.minResizeWidth,initHeight:c.initHeight,initWidth:c.initWidth}),d={mounted(e){new MutationObserver(()=>{const f=e.querySelector(".el-dialog");f&&W(f,e)}).observe(e,{childList:!0,subtree:!0})}},l=E(),$=B(),t=C(()=>{const e=["maxHeight","width"],p=Object.assign({},{...z(l),...c});for(const f in p)e.indexOf(f)!==-1&&delete p[f];return p}),M=V(),w=()=>{const e=M?.appContext?.app._context?.directives;(!e||!e.resize)&&M?.appContext?.app.directive("resize",d)};return S(()=>{w()}),(e,p)=>P((F(),k("div",null,[j(Y,T(t.value,{maxHeight:z(h),width:z(y)}),O({default:_(()=>[X(e.$slots,"default")]),_:2},[z($).footer?{name:"footer",fn:_(()=>[X(e.$slots,"footer")]),key:"0"}:void 0]),1040,["maxHeight","width"])])),[[d]])}});export{U as _};
